"use strict";(self.webpackChunkandi_angular=self.webpackChunkandi_angular||[]).push([[179],{290:()=>{function Ne(t){return"function"==typeof t}function bc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Oh=bc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function wa(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){e=s instanceof Oh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{$x(s)}catch(o){e=e??[],o instanceof Oh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Oh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$x(e);else{if(e instanceof Vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wa(n,e)}remove(e){const{_finalizers:n}=this;n&&wa(n,e),e instanceof Vn&&e._removeParent(this)}}Vn.EMPTY=(()=>{const t=new Vn;return t.closed=!0,t})();const Vx=Vn.EMPTY;function Bx(t){return t instanceof Vn||t&&"closed"in t&&Ne(t.remove)&&Ne(t.add)&&Ne(t.unsubscribe)}function $x(t){Ne(t)?t():t.unsubscribe()}const eo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fh={setTimeout(t,e,...n){const{delegate:r}=Fh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Fh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jx(t){Fh.setTimeout(()=>{const{onUnhandledError:e}=eo;if(!e)throw t;e(t)})}function Hx(){}const Nz=k_("C",void 0,void 0);function k_(t,e,n){return{kind:t,value:e,error:n}}let to=null;function Lh(t){if(eo.useDeprecatedSynchronousErrorHandling){const e=!to;if(e&&(to={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=to;if(to=null,n)throw r}}else t()}class M_ extends Vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bx(e)&&e.add(this)):this.destination=Uz}static create(e,n,r){return new Cc(e,n,r)}next(e){this.isStopped?O_(function Mz(t){return k_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?O_(function kz(t){return k_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?O_(Nz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oz=Function.prototype.bind;function P_(t,e){return Oz.call(t,e)}class Fz{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Uh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Uh(r)}else Uh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Uh(n)}}}class Cc extends M_{constructor(e,n,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&eo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&P_(e.next,s),error:e.error&&P_(e.error,s),complete:e.complete&&P_(e.complete,s)}):i=e}this.destination=new Fz(i)}}function Uh(t){eo.useDeprecatedSynchronousErrorHandling?function Pz(t){eo.useDeprecatedSynchronousErrorHandling&&to&&(to.errorThrown=!0,to.error=t)}(t):jx(t)}function O_(t,e){const{onStoppedNotification:n}=eo;n&&Fh.setTimeout(()=>n(t,e))}const Uz={closed:!0,next:Hx,error:function Lz(t){throw t},complete:Hx},F_="function"==typeof Symbol&&Symbol.observable||"@@observable";function ss(t){return t}function Gx(t){return 0===t.length?ss:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function $z(t){return t&&t instanceof M_||function Bz(t){return t&&Ne(t.next)&&Ne(t.error)&&Ne(t.complete)}(t)&&Bx(t)}(n)?n:new Cc(n,r,i);return Lh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Wx(r))((i,s)=>{const o=new Cc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[F_](){return this}pipe(...n){return Gx(n)(this)}toPromise(n){return new(n=Wx(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Wx(t){var e;return null!==(e=t??eo.Promise)&&void 0!==e?e:Promise}const jz=bc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _r=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zx(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jz}next(n){Lh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Lh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Vx:(this.currentObservers=null,s.push(n),new Vn(()=>{this.currentObservers=null,wa(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new zx(e,n),t})();class zx extends _r{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Vx}}function qx(t){return Ne(t?.lift)}function tt(t){return e=>{if(qx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,e,n,r,i){return new Kx(t,e,n,r,i)}class Kx extends M_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(t,e){return tt((n,r)=>{let i=0;n.subscribe(nt(r,s=>{r.next(t.call(e,s,i++))}))})}function Yx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Xx(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function no(t){return this instanceof no?(this.v=t,this):new no(t)}function Gz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof no?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Wz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Zx(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const eR=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function tR(t){return Ne(t?.then)}function nR(t){return Ne(t[F_])}function rR(t){return Symbol.asyncIterator&&Ne(t?.[Symbol.asyncIterator])}function iR(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sR=function qz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oR(t){return Ne(t?.[sR])}function aR(t){return Gz(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield no(n.read());if(i)return yield no(void 0);yield yield no(r)}}finally{n.releaseLock()}})}function uR(t){return Ne(t?.getReader)}function yr(t){if(t instanceof He)return t;if(null!=t){if(nR(t))return function Kz(t){return new He(e=>{const n=t[F_]();if(Ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(eR(t))return function Qz(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(tR(t))return function Yz(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jx)})}(t);if(rR(t))return cR(t);if(oR(t))return function Xz(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(uR(t))return function Jz(t){return cR(aR(t))}(t)}throw iR(t)}function cR(t){return new He(e=>{(function Zz(t,e){var n,r,i,s;return Xx(this,void 0,void 0,function*(){try{for(n=Wz(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function yi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Dt(t,e,n=1/0){return Ne(e)?Dt((r,i)=>fe((s,o)=>e(r,s,i,o))(yr(t(r,i))),n):("number"==typeof e&&(n=e),tt((r,i)=>function eq(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;yr(n(g,l++)).subscribe(nt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?yi(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(nt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ia(t=1/0){return Dt(ss,t)}const vi=new He(t=>t.complete());function U_(t){return t[t.length-1]}function Dc(t){return function nq(t){return t&&Ne(t.schedule)}(U_(t))?t.pop():void 0}function Vh(t,e=0){return tt((n,r)=>{n.subscribe(nt(r,i=>yi(r,t,()=>r.next(i),e),()=>yi(r,t,()=>r.complete(),e),i=>yi(r,t,()=>r.error(i),e)))})}function Bh(t,e=0){return tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lR(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{yi(n,e,()=>{const r=t[Symbol.asyncIterator]();yi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gt(t,e){return e?function lq(t,e){if(null!=t){if(nR(t))return function sq(t,e){return yr(t).pipe(Bh(e),Vh(e))}(t,e);if(eR(t))return function aq(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(tR(t))return function oq(t,e){return yr(t).pipe(Bh(e),Vh(e))}(t,e);if(rR(t))return lR(t,e);if(oR(t))return function uq(t,e){return new He(n=>{let r;return yi(n,e,()=>{r=t[sR](),yi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(t,e);if(uR(t))return function cq(t,e){return lR(aR(t),e)}(t,e)}throw iR(t)}(t,e):yr(t)}function V_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Cc({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function $_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const fq=Ae({__forward_ref__:Ae});function j_(t){return t.__forward_ref__=j_,t.toString=function(){return xe(this())},t}function q(t){return function H_(t){return"function"==typeof t&&t.hasOwnProperty(fq)&&t.__forward_ref__===j_}(t)?t():t}class O extends Error{constructor(e,n){super(function $h(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function X(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function jh(t,e){throw new O(-201,!1)}function $n(t,e){null==t&&function be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hh(t){return dR(t,Gh)||dR(t,fR)}function dR(t,e){return t.hasOwnProperty(e)?t[e]:null}function hR(t){return t&&(t.hasOwnProperty(G_)||t.hasOwnProperty(Eq))?t[G_]:null}const Gh=Ae({\u0275prov:Ae}),G_=Ae({\u0275inj:Ae}),fR=Ae({ngInjectableDef:Ae}),Eq=Ae({ngInjectorDef:Ae});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let W_;function sr(t){const e=W_;return W_=t,e}function pR(t,e,n){const r=Hh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void jh(xe(t))}function os(t){return{toString:t}.toString()}var vr=(()=>((vr=vr||{})[vr.OnPush=0]="OnPush",vr[vr.Default=1]="Default",vr))(),$r=(()=>{return(t=$r||($r={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$r;var t})();const ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ea={},Te=[],Wh=Ae({\u0275cmp:Ae}),z_=Ae({\u0275dir:Ae}),q_=Ae({\u0275pipe:Ae}),gR=Ae({\u0275mod:Ae}),Ii=Ae({\u0275fac:Ae}),Sc=Ae({__NG_ELEMENT_ID__:Ae});let bq=0;function zh(t){return os(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Te,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||$r.Emulated,id:"c"+bq++,styles:t.styles||Te,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=yR(t.inputs,r),i.outputs=yR(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(mR).filter(_R):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(ln).filter(_R):null,i})}function mR(t){return De(t)||cn(t)}function _R(t){return null!==t}function Bt(t){return os(()=>({type:t.type,bootstrap:t.bootstrap||Te,declarations:t.declarations||Te,imports:t.imports||Te,exports:t.exports||Te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yR(t,e){if(null==t)return Ea;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Zt=zh;function De(t){return t[Wh]||null}function cn(t){return t[z_]||null}function ln(t){return t[q_]||null}function jn(t,e){const n=t[gR]||null;if(!n&&!0===e)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return n}function Dn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ir(t){return Array.isArray(t)&&!0===t[1]}function Y_(t){return 0!=(8&t.flags)}function Yh(t){return 2==(2&t.flags)}function Er(t){return null!==t.template}function Rq(t){return 0!=(256&t[2])}function ao(t,e){return t.hasOwnProperty(Ii)?t[Ii]:null}class Mq{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function IR(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oq),Pq}function Pq(){const t=TR(this),e=t?.current;if(e){const n=t.previous;if(n===Ea)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Oq(t,e,n,r){const i=TR(t)||function Fq(t,e){return t[ER]=e}(t,{previous:Ea,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Mq(u&&u.currentValue,e,o===Ea),t[r]=e}const ER="__ngSimpleChanges__";function TR(t){return t[ER]||null}function ut(t){for(;Array.isArray(t);)t=t[0];return t}function ur(t,e){return ut(e[t.index])}function Gn(t,e){const n=e[t];return Dn(n)?n:n[0]}function Zh(t){return 64==(64&t[2])}function as(t,e){return null==e?null:t[e]}function bR(t){t[18]=0}function ny(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:PR(null),bindingsEnabled:!0};function DR(){return K.bindingsEnabled}function T(){return K.lFrame.lView}function ge(){return K.lFrame.tView}function mt(){let t=SR();for(;null!==t&&64===t.type;)t=t.parent;return t}function SR(){return K.lFrame.currentTNode}function jr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function ry(){return K.lFrame.isParent}function Zq(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,sy(e)}function sy(t){K.lFrame.currentDirectiveIndex=t}function ay(t){K.lFrame.currentQueryIndex=t}function t3(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function kR(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=t3(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=MR();return r.currentTNode=e,r.lView=t,!0}function uy(t){const e=MR(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MR(){const t=K.lFrame,e=null===t?null:t.child;return null===e?PR(t):e}function PR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OR(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FR=OR;function cy(){const t=OR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function us(t){K.lFrame.selectedIndex=t}function ef(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function tf(t,e,n){LR(t,e,3,n)}function nf(t,e,n,r){(3&t[2])===n&&LR(t,e,n,r)}function ly(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function LR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(l3(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function l3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Mc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function rf(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];VR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function UR(t){return 3===t||4===t||6===t}function VR(t){return 64===t.charCodeAt(0)}function sf(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||BR(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function BR(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $R(t){return-1!==t}function xa(t){return 32767&t}function Ra(t,e){let n=function g3(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let hy=!0;function af(t){const e=hy;return hy=t,e}let m3=0;const Hr={};function Oc(t,e){const n=py(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,fy(r.data,t),fy(e,null),fy(r.blueprint,null));const i=uf(t,e),s=t.injectorIndex;if($R(i)){const o=xa(i),a=Ra(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function fy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function py(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function uf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=YR(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function cf(t,e,n){!function _3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sc)&&(r=n[Sc]),null==r&&(r=n[Sc]=m3++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function GR(t,e,n){if(n&H.Optional||void 0!==t)return t;jh()}function WR(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const i=t[9],s=sr(void 0);try{return i?i.get(e,r,n&H.Optional):pR(e,r,n&H.Optional)}finally{sr(s)}}return GR(r,0,n)}function zR(t,e,n,r=H.Default,i){if(null!==t){if(1024&e[2]){const o=function T3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=qR(s,o,n,r|H.Self,Hr);if(a!==Hr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,Hr,r);if(l!==Hr)return l}u=YR(o),o=o[15]}s=u}return i}(t,e,n,r,Hr);if(o!==Hr)return o}const s=qR(t,e,n,r,Hr);if(s!==Hr)return s}return WR(e,n,r,i)}function qR(t,e,n,r,i){const s=function w3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sc)?t[Sc]:void 0;return"number"==typeof e?e>=0?255&e:I3:e}(n);if("function"==typeof s){if(!kR(e,t,r))return r&H.Host?GR(i,0,r):WR(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;jh()}finally{FR()}}else if("number"==typeof s){let o=null,a=py(t,e),u=-1,c=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?uf(t,e):e[a+8],-1!==u&&QR(r,!1)?(o=e[1],a=xa(u),e=Ra(u,e)):a=-1);-1!==a;){const l=e[1];if(KR(s,a,l.data)){const d=v3(a,e,n,o,r,c);if(d!==Hr)return d}u=e[a+8],-1!==u&&QR(r,e[1].data[a+8]===c)&&KR(s,a,e)?(o=l,a=xa(u),e=Ra(u,e)):a=-1}}return i}function v3(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function lf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Er(f)&&f.type===n)return u}return null}(a,o,n,null==r?Yh(a)&&hy:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Fc(e,o,l,a):Hr}function Fc(t,e,n,r){let i=t[n];const s=e.data;if(function d3(t){return t instanceof Mc}(i)){const o=i;o.resolving&&function pq(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,`Circular dependency in DI detected for ${t}${n}`)}(Ee(s[n]));const a=af(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?sr(o.injectImpl):null;kR(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function c3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IR(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&sr(u),af(a),o.resolving=!1,FR()}}return i}function KR(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function QR(t,e){return!(t&H.Self||t&H.Host&&e)}class Na{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zR(this._tNode,this._lView,e,r,n)}}function I3(){return new Na(mt(),T())}function YR(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const Ma="__parameters__";function Oa(t,e,n){return os(()=>{const r=function my(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ma)?u[Ma]:Object.defineProperty(u,Ma,{value:[]})[Ma];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bi(t,e){t.forEach(n=>Array.isArray(n)?bi(n,e):e(n))}function JR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function df(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const $c={},wy="__NG_DI_FLAG__",ff="ngTempTokenPath",O3=/\n/gm,nN="__source";let jc;function La(t){const e=jc;return jc=t,e}function L3(t,e=H.Default){if(void 0===jc)throw new O(-203,!1);return null===jc?pR(t,void 0,e):jc.get(t,e&H.Optional?null:void 0,e)}function F(t,e=H.Default){return(function Tq(){return W_}()||L3)(q(t),e)}function rt(t,e=H.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),F(t,e)}function Iy(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=U3(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function Hc(t,e){return t[wy]=e,t.prototype[wy]=e,t}function U3(t){return t[wy]}const he=Hc(Oa("Optional"),8),Gc=Hc(Oa("SkipSelf"),4);let Ty;const Ny=new V("ENVIRONMENT_INITIALIZER"),TN=new V("INJECTOR",-1),bN=new V("INJECTOR_DEF_TYPES");class CN{get(e,n=$c){if(n===$c){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return n}}function E4(...t){return{\u0275providers:DN(0,t)}}function DN(t,...e){const n=[],r=new Set;let i;return bi(e,s=>{const o=s;ky(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&SN(i,n),n}function SN(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];bi(i,s=>{e.push(s)})}}function ky(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=hR(t);const o=!s&&De(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=hR(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)ky(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{bi(s.imports,l=>{ky(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&SN(c,e)}if(!a){const c=ao(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Te},{provide:bN,useValue:i,multi:!0},{provide:Ny,useValue:()=>F(i),multi:!0})}const u=s.providers;null==u||a||bi(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const T4=Ae({provide:String,useValue:Ae});function My(t){return null!==t&&"object"==typeof t&&T4 in t}function co(t){return"function"==typeof t}const Py=new V("Set Injector scope."),vf={},C4={};let Oy;function wf(){return void 0===Oy&&(Oy=new CN),Oy}class ds{}class RN extends ds{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ly(e,o=>this.processProvider(o)),this.records.set(TN,Ba(void 0,this)),i.has("environment")&&this.records.set(ds,Ba(void 0,this));const s=this.records.get(Py);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(bN.multi,Te,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=La(this),r=sr(void 0);try{return e()}finally{La(n),sr(r)}}get(e,n=$c,r=H.Default){this.assertNotDestroyed();const i=La(this),s=sr(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function R4(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Hh(e);a=u&&this.injectableDefInScope(u)?Ba(Fy(e),vf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?wf():this.parent).get(e,n=r&H.Optional&&n===$c?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ff]=o[ff]||[]).unshift(xe(e)),i)throw o;return function V3(t,e,n,r){const i=t[ff];throw e[nN]&&i.unshift(e[nN]),t.message=function B3(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):xe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(O3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ff]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{sr(s),La(i)}}resolveInjectorInitializers(){const e=La(this),n=sr(void 0);try{const r=this.get(Ny.multi,Te,H.Self);for(const i of r)i()}finally{La(e),sr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let n=co(e=q(e))?e:q(e&&e.provide);const r=function S4(t){return My(t)?Ba(void 0,t.useValue):Ba(function NN(t,e,n){let r;if(co(t)){const i=q(t);return ao(i)||Fy(i)}if(My(t))r=()=>q(t.useValue);else if(function xN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Iy(t.deps||[]));else if(function AN(t){return!(!t||!t.useExisting)}(t))r=()=>F(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function A4(t){return!!t.deps}(t))return ao(i)||Fy(i);r=()=>new i(...Iy(t.deps))}return r}(t),vf)}(e);if(co(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ba(void 0,vf,!0),i.factory=()=>Iy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===vf&&(n.value=C4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function x4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Fy(t){const e=Hh(t),n=null!==e?e.factory:ao(t);if(null!==n)return n;if(t instanceof V)throw new O(204,!1);if(t instanceof Function)return function D4(t){const e=t.length;if(e>0)throw function Bc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new O(204,!1);const n=function wq(t){const e=t&&(t[Gh]||t[fR]);if(e){const n=function Iq(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new O(204,!1)}function Ba(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function N4(t){return!!t.\u0275providers}function Ly(t,e){for(const n of t)Array.isArray(n)?Ly(n,e):N4(n)?Ly(n.\u0275providers,e):e(n)}class kN{}class P4{resolveComponentFactory(e){throw function M4(t){const e=Error(`No component factory found for ${xe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let $a=(()=>{class t{}return t.NULL=new P4,t})();function O4(){return ja(mt(),T())}function ja(t,e){return new hs(ur(t,e))}let hs=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=O4,t})();class PN{}let U4=(()=>{class t{}return t.\u0275prov=Z({token:t,providedIn:"root",factory:()=>null}),t})();class Yc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ON=new Yc("14.2.10"),Uy={};function Hy(t){return t.ngOriginalError}class Ha{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hy(e);for(;n&&Hy(n);)n=Hy(n);return n||null}}const Gy=new Map;let Y4=0;const zy="__ngContext__";function nn(t,e){Dn(e)?(t[zy]=e[20],function J4(t){Gy.set(t[20],t)}(e)):t[zy]=e}function Di(t){return t instanceof Function?t():t}var Sn=(()=>((Sn=Sn||{})[Sn.Important=1]="Important",Sn[Sn.DashCase=2]="DashCase",Sn))();function Ky(t,e){return undefined(t,e)}function Jc(t){const e=t[3];return Ir(e)?e[3]:e}function Qy(t){return QN(t[13])}function Yy(t){return QN(t[4])}function QN(t){for(;null!==t&&!Ir(t);)t=t[4];return t}function Wa(t,e,n,r,i){if(null!=r){let s,o=!1;Ir(r)?s=r:Dn(r)&&(o=!0,r=r[0]);const a=ut(r);0===t&&null!==n?null==i?tk(e,n,a):lo(e,n,a,i||null,!0):1===t&&null!==n?lo(e,n,a,i||null,!0):2===t?function uk(t,e,n){const r=Ef(t,e);r&&function CK(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function AK(t,e,n,r,i){const s=n[7];s!==ut(n)&&Wa(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Zc(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Jy(t,e,n){return t.createElement(e,n)}function XN(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,ny(i,-1)),n.splice(r,1)}function Zy(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&XN(i,r),e>0&&(t[n-1][4]=r[4]);const s=df(t,10+e);!function _K(t,e){Zc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function JN(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Zc(t,e,n,3,null,null),function wK(t){let e=t[13];if(!e)return ev(t[1],t);for(;e;){let n=null;if(Dn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Dn(e)&&ev(e[1],e),e=e[3];null===e&&(e=t),Dn(e)&&ev(e[1],e),n=e&&e[4]}e=n}}(e)}}function ev(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function bK(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Mc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function TK(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):ut(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Ir(e[3])){n!==e[3]&&XN(n,e);const r=e[19];null!==r&&r.detachView(t)}!function Z4(t){Gy.delete(t[20])}(e)}}function ZN(t,e,n){return function ek(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===$r.None||i===$r.Emulated)return null}return ur(r,n)}(t,e.parent,n)}function lo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tk(t,e,n){t.appendChild(e,n)}function nk(t,e,n,r,i){null!==r?lo(t,e,n,r,i):tk(t,e,n)}function Ef(t,e){return t.parentNode(e)}let sk=function ik(t,e,n){return 40&t.type?ur(t,n):null};function Tf(t,e,n,r){const i=ZN(t,r,e),s=e[11],a=function rk(t,e,n){return sk(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)nk(s,i,n[u],a,!1);else nk(s,i,n,a,!1)}function bf(t,e){if(null!==e){const n=e.type;if(3&n)return ur(e,t);if(4&n)return nv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return bf(t,r);{const i=t[e.index];return Ir(i)?nv(-1,i):ut(i)}}if(32&n)return Ky(e,t)()||ut(t[e.index]);{const r=ak(t,e);return null!==r?Array.isArray(r)?r[0]:bf(Jc(t[16]),r):bf(t,e.next)}}return null}function ak(t,e){return null!==e?t[16][6].projection[e.projection]:null}function nv(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return bf(r,i)}return e[7]}function rv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&nn(ut(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)rv(t,e,n.child,r,i,s,!1),Wa(e,t,i,a,s);else if(32&u){const c=Ky(n,r);let l;for(;l=c();)Wa(e,t,i,l,s);Wa(e,t,i,a,s)}else 16&u?ck(t,e,r,n,i,s):Wa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Zc(t,e,n,r,i,s){rv(n,r,t.firstChild,e,i,s,!1)}function ck(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Wa(e,t,i,u[c],s);else rv(t,e,u,o[3],i,s,!0)}function lk(t,e,n){t.setAttribute(e,"style",n)}function iv(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function dk(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const hk="ng-template";function RK(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==dk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fk(t){return 4===t.type&&t.value!==hk}function NK(t,e,n){return e===(4!==t.type||n?t.value:hk)}function kK(t,e,n){let r=4;const i=t.attrs||[],s=function OK(t){for(let e=0;e<t.length;e++)if(UR(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!NK(t,u,n)||""===u&&1===e.length){if(Tr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!RK(t.attrs,c,n)){if(Tr(r))return!1;o=!0}continue}const d=MK(8&r?"class":u,i,fk(t),n);if(-1===d){if(Tr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==dk(f,c,0)||2&r&&c!==h){if(Tr(r))return!1;o=!0}}}}else{if(!o&&!Tr(r)&&!Tr(u))return!1;if(o&&Tr(u))continue;o=!1,r=u|1&r}}return Tr(r)||o}function Tr(t){return 0==(1&t)}function MK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function FK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function pk(t,e,n=!1){for(let r=0;r<e.length;r++)if(kK(t,e[r],n))return!0;return!1}function gk(t,e){return t?":not("+e.trim()+")":e}function UK(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Tr(o)&&(e+=gk(s,i),i=""),r=o,s=s||!Tr(r);n++}return""!==i&&(e+=gk(s,i)),e}const J={};function wk(t,e=null,n=null,r){const i=Ik(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ik(t,e=null,n=null,r,i=new Set){const s=[n||Te,E4(t)];return r=r||("object"==typeof t?void 0:xe(t)),new RN(s,e||wf(),r||null,i)}let Ge=(()=>{class t{static create(n,r){if(Array.isArray(n))return wk({name:""},r,n,"");{const i=n.name??"";return wk({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=$c,t.NULL=new CN,t.\u0275prov=Z({token:t,providedIn:"any",factory:()=>F(TN)}),t.__NG_ELEMENT_ID__=-1,t})();function $(t,e=H.Default){const n=T();return null===n?F(t,e):zR(mt(),n,q(t),e)}function cv(){throw new Error("invalid")}function Uk(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];ay(i),o.contentQueries(2,e[s],s)}}}function xf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),bR(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function X4(){return Y4++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function qa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function wv(t,e,n,r,i){const s=SR(),o=ry(),u=t.data[e]=function I6(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function Jq(){return K.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function kc(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jr(s,!0),s}function Ka(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Iv(t,e,n){uy(e);try{const r=t.viewQuery;null!==r&&xv(1,r,n);const i=t.template;null!==i&&Vk(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Uk(t,e),t.staticViewQueries&&xv(2,t.viewQuery,n);const s=t.components;null!==s&&function y6(t,e){for(let n=0;n<e.length;n++)L6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,cy()}}function Rf(t,e,n,r){const i=e[2];if(128!=(128&i)){uy(e);try{bR(e),function xR(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Vk(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&tf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&nf(e,c,0,null),ly(e,0)}if(function O6(t){for(let e=Qy(t);null!==e;e=Yy(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&ny(s,1),i[2]|=512}}}(e),function P6(t){for(let e=Qy(t);null!==e;e=Yy(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Zh(r)&&Rf(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Uk(t,e),o){const c=t.contentCheckHooks;null!==c&&tf(e,c)}else{const c=t.contentHooks;null!==c&&nf(e,c,1),ly(e,1)}!function m6(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)us(~i);else{const s=i,o=n[++r],a=n[++r];Zq(o,s),a(2,e[s])}}}finally{us(-1)}}(t,e);const a=t.components;null!==a&&function _6(t,e){for(let n=0;n<e.length;n++)F6(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&xv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&tf(e,c)}else{const c=t.viewHooks;null!==c&&nf(e,c,2),ly(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,ny(e[3],-1))}finally{cy()}}}function Vk(t,e,n,r,i){const s=function hn(){return K.lFrame.selectedIndex}(),o=2&r;try{us(-1),o&&e.length>22&&function mk(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&tf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&nf(e,s,0,n)}us(n)}(t,e,22,!1),n(r,i)}finally{us(s)}}function $k(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bv(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function v6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Hk(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Gk(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||fk(e)?null:M6(d,s);o.push(h),a=Hk(d,c,a),u=Hk(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function zk(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function C6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function qk(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kk(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function R6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function Qk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Yk(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ao(i.type)),o=new Mc(s,Er(i),$);t.blueprint[r]=o,n[r]=o,zk(t,e,0,r,Ka(t,n,i.hostVars,J),i)}function N6(t,e,n){const r=ur(e,t),i=$k(n),s=t[10],o=Nf(t,xf(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function k6(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function M6(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function F6(t,e){const n=Gn(e,t);if(Zh(n)){const r=n[1];48&n[2]?Rf(r,n,r.template,n[8]):n[5]>0&&Sv(n)}}function Sv(t){for(let r=Qy(t);null!==r;r=Yy(r))for(let i=10;i<r.length;i++){const s=r[i];if(Zh(s))if(512&s[2]){const o=s[1];Rf(o,s,o.template,s[8])}else s[5]>0&&Sv(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Gn(n[r],t);Zh(i)&&i[5]>0&&Sv(i)}}function L6(t,e){const n=Gn(e,t),r=n[1];(function U6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Iv(r,n,n[8])}function Nf(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function kf(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Rf(t,e,t.template,n)}catch(o){throw r&&function tM(t,e){const n=t[9],r=n?n.get(Ha,null):null;r&&r.handleError(e)}(e,o),o}finally{i.end&&i.end()}}function xv(t,e,n){ay(0),e(t,n)}function Rv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Mf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=$_(i,a):2==s&&(r=$_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Pf(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ut(s)),Ir(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Pf(u[1],u,c,r)}const o=n.type;if(8&o)Pf(t,e,n.child,r);else if(32&o){const a=Ky(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=ak(e,n);if(Array.isArray(a))r.push(...a);else{const u=Jc(e[16]);Pf(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class el{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Pf(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Zy(e,r),df(n,r))}this._attachedToViewContainer=!1}JN(this._lView[1],this._lView)}onDestroy(e){!function jk(t,e,n,r){const i=function Jk(t){return t[7]||(t[7]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function Zk(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function Av(t){for(;t;){t[2]|=32;const e=Jc(t);if(Rq(t)&&!e)return t;t=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){kf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vK(t,e){Zc(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class V6 extends el{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;kf(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Nv extends $a{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=De(e);return new tl(n,this.ngModule)}}function nM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class $6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Uy,r);return i!==Uy||n===Uy?i:this.parentInjector.get(e,n,r)}}class tl extends kN{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function VK(t){return t.map(UK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return nM(this.componentDef.inputs)}get outputs(){return nM(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ds?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new $6(e,s):e,a=o.get(PN,null);if(null===a)throw new O(407,!1);const u=o.get(U4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function w6(t,e,n){return t.selectRootElement(e,n===$r.ShadowDom)}(c,r,this.componentDef.encapsulation):Jy(c,l,function B6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=bv(0,null,null,1,0,null,null,null,null,null),p=xf(null,f,null,h,null,null,a,c,u,o,null);let g,m;uy(p);try{const w=function G6(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=qa(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Mf(u,c,!0),null!==t&&(rf(i,t,c),null!==u.classes&&iv(i,t,u.classes),null!==u.styles&&lk(i,t,u.styles)));const l=r.createRenderer(t,e),d=xf(n,$k(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(cf(Oc(u,n),o,e.type),Kk(o,u),Qk(u,n.length,1)),Nf(n,d),n[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)rf(c,d,["ng-version",ON.full]);else{const{attrs:E,classes:y}=function BK(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Tr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);E&&rf(c,d,E),y&&y.length>0&&iv(c,d,y.join(" "))}if(m=function ty(t,e){return t.data[e]}(f,22),void 0!==n){const E=m.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const b=n[y];E.push(null!=b?Array.from(b):null)}}g=function W6(t,e,n,r){const i=n[1],s=function b6(t,e,n){const r=mt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Yk(t,r,e,Ka(t,e,1,null),n),Gk(t,r));const i=Fc(e,t,r.directiveStart,r);nn(i,e);const s=ur(r,e);return s&&nn(s,e),i}(i,n,e);if(t[8]=n[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=mt();e.contentQueries(1,s,a.directiveStart)}const o=mt();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(us(o.index),zk(n[1],o,0,o.directiveStart,o.directiveEnd,e),qk(e,s)),s}(w,this.componentDef,p,[z6]),Iv(f,p,null)}finally{cy()}return new H6(this.componentType,g,ja(m,p),p,m)}}class H6 extends class k4{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new V6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Rv(s[1],s,i,e,n),function Wk(t,e){const n=Gn(e,t);16&n[2]||(n[2]|=32)}(s,this._tNode.index)}}get injector(){return new Na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function z6(){const t=mt();ef(T()[1],t)}function Ov(t,e,n,r,i){const o=i?"class":"style";Rv(t,n,e.inputs[o],o,r)}function Lf(t,e,n,r){const i=T(),s=ge(),o=22+t,a=i[11],u=i[o]=Jy(a,e,function u3(){return K.lFrame.currentNamespace}()),c=s.firstCreatePass?function u8(t,e,n,r,i,s,o){const a=e.consts,c=qa(e,t,2,i,as(a,s));return function Cv(t,e,n,r){let i=!1;if(DR()){const s=function A6(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];pk(n,o.selectors,!1)&&(i||(i=[]),cf(Oc(n,e),t,o.type),Er(o)?(Kk(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Qk(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Ka(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=sf(n.mergedAttrs,d.hostAttrs),Yk(t,n,e,c,d),R6(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}Gk(t,n)}o&&function x6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=sf(n.mergedAttrs,n.attrs),i}(e,n,c,as(a,o)),null!==c.attrs&&Mf(c,c.attrs,!1),null!==c.mergedAttrs&&Mf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];jr(c,!0);const l=c.mergedAttrs;null!==l&&rf(a,u,l);const d=c.classes;null!==d&&iv(a,u,d);const h=c.styles;return null!==h&&lk(a,u,h),64!=(64&c.flags)&&Tf(s,i,u,c),0===function Gq(){return K.lFrame.elementDepthCount}()&&nn(u,i),function Wq(){K.lFrame.elementDepthCount++}(),function Xh(t){return 1==(1&t.flags)}(c)&&(function Ev(t,e,n){!DR()||(function D6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Oc(n,e),nn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Er(u);c&&N6(e,n,u);const l=Fc(e,t,a,n);nn(l,e),null!==o&&k6(0,a-i,l,u,0,o),c&&(Gn(n.index,e)[8]=l)}}(t,e,n,ur(n,e)),128==(128&n.flags)&&function S6(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function e3(){return K.lFrame.currentDirectiveIndex}();try{us(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];sy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&qk(u,c)}}finally{us(-1),sy(o)}}(t,e,n))}(s,i,c),function Bk(t,e,n){if(Y_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&function Tv(t,e,n=ur){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,c),Lf}function Uf(){let t=mt();ry()?function iy(){K.lFrame.isParent=!1}():(t=t.parent,jr(t,!1));const e=t;!function zq(){K.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(ef(n,t),Y_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function f3(t){return 0!=(16&t.flags)}(e)&&Ov(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function p3(t){return 0!=(32&t.flags)}(e)&&Ov(n,e,T(),e.stylesWithoutHost,!1),Uf}function Vf(t,e,n,r){return Lf(t,e,n,r),Uf(),Vf}function Bf(t){return!!t&&"function"==typeof t.then}const _M=function mM(t){return!!t&&"function"==typeof t.subscribe};const ou="en-US";let gP=ou;class go{}class $P{}class jP extends go{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nv(this);const r=jn(e);this._bootstrapComponents=Di(r.bootstrap),this._r3Injector=Ik(e,n,[{provide:go,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qv extends $P{constructor(e){super(),this.moduleType=e}create(e){return new jP(this.moduleType,e)}}class e5 extends go{constructor(e,n,r){super(),this.componentFactoryResolver=new Nv(this),this.instance=null;const i=new RN([...e,{provide:go,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],n||wf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qf(t,e,n=null){return new e5(t,e,n).injector}let t5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=DN(0,n.type),i=r.length>0?qf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(F(ds))}),t})();function HP(t){t.getStandaloneInjector=e=>e.get(t5).getOrCreateStandaloneInjector(t)}function Qv(t){return e=>{setTimeout(t,void 0,e)}}const gn=class S5 extends _r{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Qv(s),i&&(i=Qv(i)),o&&(o=Qv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Vn&&e.add(a),a}};let Sr=(()=>{class t{}return t.__NG_ELEMENT_ID__=k5,t})();function k5(){return function r1(t,e){let n;const r=e[t.index];if(Ir(r))n=r;else{let i;if(8&t.type)i=ut(r);else{const s=e[11];i=s.createComment("");const o=ur(t,e);lo(s,Ef(s,o),i,function DK(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=function Xk(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}(r,e,i,t),Nf(e,n)}return new t1(n,t,e)}(mt(),T())}const M5=Sr,t1=class extends M5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new Na(this._hostTNode,this._hostLView)}get parentInjector(){const e=uf(this._hostTNode,this._hostLView);if($R(e)){const n=Ra(e,this._hostLView),r=xa(e);return new Na(n[1].data[r+8],n)}return new Na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=n1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Vc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new tl(De(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ds,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function Hq(t){return Ir(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new t1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function IK(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],JR(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function EK(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=nv(s,o),u=r[11],c=Ef(u,o[7]);return null!==c&&function yK(t,e,n,r,i,s){r[0]=i,r[6]=e,Zc(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),JR(Xv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=n1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Zy(this._lContainer,n);r&&(df(Xv(this._lContainer),n),JN(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Zy(this._lContainer,n);return r&&null!=df(Xv(this._lContainer),n)?new el(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function n1(t){return t[8]}function Xv(t){return t[8]||(t[8]=[])}function Yf(...t){}const mo=new V("Application Initializer");let Xf=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Yf,this.reject=Yf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bf(s))n.push(s);else if(_M(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(mo,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fl=new V("AppId",{providedIn:"root",factory:function S1(){return`${lw()}${lw()}${lw()}`}});function lw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const A1=new V("Platform Initializer"),cu=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),x1=new V("appBootstrapListener");let cQ=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ri=new V("LocaleId",{providedIn:"root",factory:()=>rt(Ri,H.Optional|H.SkipSelf)||function lQ(){return typeof $localize<"u"&&$localize.locale||ou}()});class hQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let dw=(()=>{class t{compileModuleSync(n){return new qv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Di(jn(n).declarations).reduce((o,a)=>{const u=De(a);return u&&o.push(new tl(u)),o},[]);return new hQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gQ=(()=>Promise.resolve(0))();function hw(t){typeof Zone>"u"?gQ.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mQ(){let t=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function vQ(t){const e=()=>{!function yQ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pw(t),t.isCheckStableRunning=!0,fw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return k1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),M1(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return k1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),M1(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,pw(t),fw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ve.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_Q,Yf,Yf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _Q={};function fw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function k1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function M1(t){t._nesting--,fw(t)}class wQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const P1=new V(""),Jf=new V("");let _w,gw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_w||(function IQ(t){_w=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),hw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hw(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(ve),F(mw),F(Jf))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),mw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _w?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),gs=null;const O1=new V("AllowMultipleToken"),yw=new V("PlatformDestroyListeners");class F1{constructor(e,n){this.name=e,this.token=n}}function U1(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=vw();if(!o||o.injector.get(O1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function bQ(t){if(gs&&!gs.get(O1,!1))throw new O(400,!1);gs=t;const e=t.get(B1);(function L1(t){const e=t.get(A1,null);e&&e.forEach(n=>n())})(t)}(function V1(t=[],e){return Ge.create({name:e,providers:[{provide:Py,useValue:"platform"},{provide:yw,useValue:new Set([()=>gs=null])},...t]})}(a,r))}return function DQ(t){const e=vw();if(!e)throw new O(401,!1);return e}()}}function vw(){return gs?.get(B1)??null}let B1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function j1(t,e){let n;return n="noop"===t?new wQ:("zone.js"===t?void 0:t)||new ve(e),n}(r?.ngZone,function $1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:ve,useValue:i}];return i.run(()=>{const o=Ge.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Ha,null);if(!u)throw new O(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{ep(this._modules,a),c.unsubscribe()})}),function H1(t,e,n){try{const r=n();return Bf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Xf);return c.runInitializers(),c.donePromise.then(()=>(function mP(t){$n(t,"Expected localeId to be defined"),"string"==typeof t&&(gP=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ri,ou)||ou),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=G1({},r);return function EQ(t,e,n){const r=new qv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Zf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new O(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(yw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Ge))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function G1(t,e){return Array.isArray(e)?e.reduce(G1,t):{...t,...e}}let Zf=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new He(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new He(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),hw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function dq(...t){const e=Dc(t),n=function iq(t,e){return"number"==typeof U_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?yr(r[0]):Ia(n)(gt(r,e)):vi}(s,o.pipe(function hq(t={}){const{connector:e=(()=>new _r),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return tt((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=V_(p,i))}),w.subscribe(m),!o&&c>0&&(o=new Cc({next:E=>w.next(E),error:E=>{d=!0,h(),a=V_(f,n,E),w.error(E)},complete:()=>{l=!0,h(),a=V_(f,r),w.complete()}}),yr(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof kN;if(!this._injector.get(Xf).done)throw!i&&function Ta(t){const e=De(t)||cn(t)||ln(t);return null!==e&&e.standalone}(n),new O(405,false);let o;o=i?n:this._injector.get($a).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function TQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(go),c=o.create(Ge.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(P1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),ep(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ep(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(x1,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ep(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(F(ve),F(ds),F(Ha))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ep(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let z1=!0,ww=(()=>{class t{}return t.__NG_ELEMENT_ID__=xQ,t})();function xQ(t){return function RQ(t,e,n){if(Yh(t)&&!n){const r=Gn(t.index,e);return new el(r,r)}return 47&t.type?new el(e[16],e):null}(mt(),T(),16==(16&t))}const HQ=U1(null,"core",[]);let GQ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(Zf))},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({}),t})(),ip=null;function ms(){return ip}const An=new V("DocumentToken");let Cw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:function(){return function KQ(){return F(rO)}()},providedIn:"platform"}),t})();const QQ=new V("Location Initialized");let rO=(()=>{class t extends Cw{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ms().getBaseHref(this._doc)}onPopState(n){const r=ms().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ms().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){iO()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){iO()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(An))},t.\u0275prov=Z({token:t,factory:function(){return function YQ(){return new rO(F(An))}()},providedIn:"platform"}),t})();function iO(){return!!window.history.pushState}function Dw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function sO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ki(t){return t&&"?"!==t[0]?"?"+t:t}let yo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:function(){return rt(aO)},providedIn:"root"}),t})();const oO=new V("appBaseHref");let aO=(()=>{class t extends yo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rt(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ki(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Cw),F(oO,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XQ=(()=>{class t extends yo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Dw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Cw),F(oO,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),Sw=(()=>{class t{constructor(n){this._subject=new gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=sO(uO(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ki(r))}normalize(n){return t.stripTrailingSlash(function ZQ(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,uO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ki(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ki(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ki,t.joinWithSlash=Dw,t.stripTrailingSlash=sO,t.\u0275fac=function(n){return new(n||t)(F(yo))},t.\u0275prov=Z({token:t,factory:function(){return function JQ(){return new Sw(F(yo))}()},providedIn:"root"}),t})();function uO(t){return t.replace(/\/index.html$/,"")}let m9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({}),t})();const TO="browser";function bO(t){return t===TO}let w9=(()=>{class t{}return t.\u0275prov=Z({token:t,providedIn:"root",factory:()=>new I9(F(An),window)}),t})();class I9{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function E9(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=CO(this.window.history)||CO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function CO(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Hw extends class $9 extends class qQ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function zQ(t){ip||(ip=t)}(new Hw)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function j9(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}();return null==n?null:function H9(t){gp=gp||document.createElement("a"),gp.setAttribute("href",t);const e=gp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function FY(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let gp,yl=null;const xO=new V("TRANSITION_ID"),W9=[{provide:mo,useFactory:function G9(t,e,n){return()=>{n.get(Xf).donePromise.then(()=>{const r=ms(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[xO,An,Ge],multi:!0}];let q9=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const mp=new V("EventManagerPlugins");let _p=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(mp),F(ve))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class RO{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ms().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let NO=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),vl=(()=>{class t extends NO{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(kO),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(kO))}}return t.\u0275fac=function(n){return new(n||t)(F(An))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function kO(t){ms().remove(t)}const Gw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ww=/%COMP%/g;function yp(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yp(t,i,n):(i=i.replace(Ww,t),n.push(i))}return n}function OO(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let zw=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qw(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case $r.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Z9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case $r.ShadowDom:return new eX(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=yp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(_p),F(vl),F(fl))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class qw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Gw[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(LO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Gw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Gw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(n,r,i&Sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,OO(r)):this.eventManager.addEventListener(e,n,OO(r))}}function LO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Z9 extends qw{constructor(e,n,r,i){super(e),this.component=r;const s=yp(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function Y9(t){return"_ngcontent-%COMP%".replace(Ww,t)}(i+"-"+r.id),this.hostAttr=function X9(t){return"_nghost-%COMP%".replace(Ww,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class eX extends qw{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=yp(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tX=(()=>{class t extends RO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(An))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const UO=["alt","control","meta","shift"],nX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let iX=(()=>{class t extends RO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ms().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),UO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=nX[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),UO.forEach(o=>{o!==i&&(0,rX[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(An))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const BO=[{provide:cu,useValue:TO},{provide:A1,useValue:function sX(){Hw.makeCurrent()},multi:!0},{provide:An,useFactory:function aX(){return function Y3(t){Ty=t}(document),document},deps:[]}],uX=U1(HQ,"browser",BO),$O=new V(""),jO=[{provide:Jf,useClass:class z9{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ms().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:P1,useClass:gw,deps:[ve,mw,Jf]},{provide:gw,useClass:gw,deps:[ve,mw,Jf]}],HO=[{provide:Py,useValue:"root"},{provide:Ha,useFactory:function oX(){return new Ha},deps:[]},{provide:mp,useClass:tX,multi:!0,deps:[An,ve,cu]},{provide:mp,useClass:iX,multi:!0,deps:[An]},{provide:zw,useClass:zw,deps:[_p,vl,fl]},{provide:PN,useExisting:zw},{provide:NO,useExisting:vl},{provide:vl,useClass:vl,deps:[An]},{provide:_p,useClass:_p,deps:[mp,ve]},{provide:class T9{},useClass:q9,deps:[]},[]];let cX=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:fl,useValue:n.appId},{provide:xO,useExisting:fl},W9]}}}return t.\u0275fac=function(n){return new(n||t)(F($O,12))},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[...HO,...jO],imports:[m9,GQ]}),t})(),Qw=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(F(An))},t.\u0275prov=Z({token:t,factory:function(n){let r=null;return r=n?new n:function dX(){return new Qw(F(An))}(),r},providedIn:"root"}),t})();function B(...t){return gt(t,Dc(t))}typeof window<"u"&&window;class Nr extends _r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const vp=bc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:vX}=Array,{getPrototypeOf:wX,prototype:IX,keys:EX}=Object;const{isArray:CX}=Array;function zO(...t){const e=Dc(t),n=function rq(t){return Ne(U_(t))?t.pop():void 0}(t),{args:r,keys:i}=function TX(t){if(1===t.length){const e=t[0];if(vX(e))return{args:e,keys:null};if(function bX(t){return t&&"object"==typeof t&&wX(t)===IX}(e)){const n=EX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return gt([],e);const s=new He(function xX(t,e,n=ss){return r=>{qO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)qO(e,()=>{const c=gt(t[u],e);let l=!1;c.subscribe(nt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function AX(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):ss));return n?s.pipe(function SX(t){return fe(e=>function DX(t,e){return CX(e)?t(...e):t(e)}(t,e))}(n)):s}function qO(t,e,n){t?yi(n,t,e):e()}function Xw(...t){return function RX(){return Ia(1)}()(gt(t,Dc(t)))}function KO(t){return new He(e=>{yr(t()).subscribe(e)})}function wl(t,e){const n=Ne(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function Jw(){return tt((t,e)=>{let n=null;t._refCount++;const r=nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class QO extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vn;const n=this.getSubject();e.add(this.source.subscribe(nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vn.EMPTY)}return e}refCount(){return Jw()(this)}}function hr(t,e){return tt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(nt(r,u=>{i?.unsubscribe();let c=0;const l=s++;yr(t(u,l)).subscribe(i=nt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Il(t){return t<=0?()=>vi:tt((e,n)=>{let r=0;e.subscribe(nt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function YO(...t){const e=Dc(t);return tt((n,r)=>{(e?Xw(t,n,e):Xw(t,n)).subscribe(r)})}function Kr(t,e){return tt((n,r)=>{let i=0;n.subscribe(nt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function wp(t){return tt((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function XO(t=NX){return tt((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function NX(){return new vp}function ys(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kr((i,s)=>t(i,s,r)):ss,Il(1),n?wp(e):XO(()=>new vp))}function vo(t,e){return Ne(e)?Dt(t,e,1):Dt(t,1)}function $t(t,e,n){const r=Ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(nt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ss}function vs(t){return tt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(nt(n,void 0,void 0,o=>{s=yr(t(o,vs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function kX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(nt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function JO(t,e){return tt(kX(t,e,arguments.length>=2,!0))}function Zw(t){return t<=0?()=>vi:tt((e,n)=>{let r=[];e.subscribe(nt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ZO(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kr((i,s)=>t(i,s,r)):ss,Zw(1),n?wp(e):XO(()=>new vp))}function eI(t){return tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",El=Symbol("RouteTitle");class OX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function du(t){return new OX(t)}function FX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!eF(t[i],e[i]))return!1;return!0}function eF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function tF(t){return Array.prototype.concat.apply([],t)}function nF(t){return t.length>0?t[t.length-1]:null}function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ws(t){return _M(t)?t:Bf(t)?gt(Promise.resolve(t)):B(t)}const VX={exact:function sF(t,e,n){if(!Io(t.segments,e.segments)||!Ip(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!sF(t.children[r],e.children[r],n))return!1;return!0},subset:oF},rF={exact:function BX(t,e){return Qr(t,e)},subset:function $X(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eF(t[n],e[n]))},ignored:()=>!0};function iF(t,e,n){return VX[n.paths](t.root,e.root,n.matrixParams)&&rF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function oF(t,e,n){return aF(t,e,e.segments,n)}function aF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Io(i,n)||e.hasChildren()||!Ip(i,n,r))}if(t.segments.length===n.length){if(!Io(t.segments,n)||!Ip(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!oF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Io(t.segments,i)&&Ip(t.segments,i,r)&&t.children[se])&&aF(t.children[se],e,s,r)}}function Ip(t,e,n){return e.every((r,i)=>rF[n](t[i].parameters,r.parameters))}class wo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return GX.serialize(this)}}class ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,jt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ep(this)}}class Tl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=du(this.parameters)),this._parameterMap}toString(){return dF(this)}}function Io(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let uF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:function(){return new nI},providedIn:"root"}),t})();class nI{parse(e){const n=new ZX(e);return new wo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${bl(e.root,!0)}`,r=function qX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Tp(n)}=${Tp(i)}`).join("&"):`${Tp(n)}=${Tp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function WX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const GX=new nI;function Ep(t){return t.segments.map(e=>dF(e)).join("/")}function bl(t,e){if(!t.hasChildren())return Ep(t);if(e){const n=t.children[se]?bl(t.children[se],!1):"",r=[];return jt(t.children,(i,s)=>{s!==se&&r.push(`${s}:${bl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function HX(t,e){let n=[];return jt(t.children,(r,i)=>{i===se&&(n=n.concat(e(r,i)))}),jt(t.children,(r,i)=>{i!==se&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===se?[bl(t.children[se],!1)]:[`${i}:${bl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${Ep(t)}/${n[0]}`:`${Ep(t)}/(${n.join("//")})`}}function cF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tp(t){return cF(t).replace(/%3B/gi,";")}function rI(t){return cF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bp(t){return decodeURIComponent(t)}function lF(t){return bp(t.replace(/\+/g,"%20"))}function dF(t){return`${rI(t.path)}${function zX(t){return Object.keys(t).map(e=>`;${rI(e)}=${rI(t[e])}`).join("")}(t.parameters)}`}const KX=/^[^\/()?;=#]+/;function Cp(t){const e=t.match(KX);return e?e[0]:""}const QX=/^[^=?&#]+/,XX=/^[^&#]+/;class ZX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new ce(e,n)),r}parseSegment(){const e=Cp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Tl(bp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Cp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Cp(this.remaining);i&&(r=i,this.capture(r))}e[bp(n)]=bp(r)}parseQueryParam(e){const n=function YX(t){const e=t.match(QX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function JX(t){const e=t.match(XX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lF(n),s=lF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function iI(t){return t.segments.length>0?new ce([],{[se]:t}):t}function Dp(t){const e={};for(const r of Object.keys(t.children)){const s=Dp(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function eJ(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new ce(t.segments.concat(e.segments),e.children)}return t}(new ce(t.segments,e))}function Eo(t){return t instanceof wo}function rJ(t,e,n,r,i){if(0===n.length)return hu(e.root,e.root,e.root,r,i);const s=function pF(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return jt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fF(n,e,r)}(n);return s.toRoot()?hu(e.root,e.root,new ce([],{}),r,i):function o(u){const c=function sJ(t,e,n,r){if(t.isAbsolute)return new fu(e.root,!0,0);if(-1===r)return new fu(n,n===e.root,0);return function gF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new fu(r,!1,i-s)}(n,r+(Cl(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?Sl(c.segmentGroup,c.index,s.commands):oI(c.segmentGroup,c.index,s.commands);return hu(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Cl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dl(t){return"object"==typeof t&&null!=t&&t.outlets}function hu(t,e,n,r,i){let o,s={};r&&jt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:hF(t,e,n);const a=iI(Dp(o));return new wo(a,s,i)}function hF(t,e,n){const r={};return jt(t.children,(i,s)=>{r[s]=i===e?n:hF(i,e,n)}),new ce(t.segments,r)}class fF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cl(r[0]))throw new O(4003,!1);const i=r.find(Dl);if(i&&i!==nF(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function oI(t,e,n){if(t||(t=new ce([],{})),0===t.segments.length&&t.hasChildren())return Sl(t,e,n);const r=function aJ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Dl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!_F(u,c,o))return s;r+=2}else{if(!_F(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ce(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new ce(t.segments.slice(r.pathIndex),t.children),Sl(s,0,i)}return r.match&&0===i.length?new ce(t.segments,{}):r.match&&!t.hasChildren()?aI(t,e,n):r.match?Sl(t,0,i):aI(t,e,n)}function Sl(t,e,n){if(0===n.length)return new ce(t.segments,{});{const r=function oJ(t){return Dl(t[0])?t[0].outlets:{[se]:t}}(n),i={};return jt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=oI(t.children[o],e,s))}),jt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ce(t.segments,i)}}function aI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Dl(s)){const u=uJ(s.outlets);return new ce(r,u)}if(0===i&&Cl(n[0])){r.push(new Tl(t.segments[e].path,mF(n[0]))),i++;continue}const o=Dl(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Cl(a)?(r.push(new Tl(o,mF(a))),i+=2):(r.push(new Tl(o,{})),i++)}return new ce(r,{})}function uJ(t){const e={};return jt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=aI(new ce([],{}),0,n))}),e}function mF(t){const e={};return jt(t,(n,r)=>e[r]=`${n}`),e}function _F(t,e,n){return t==n.path&&Qr(e,n.parameters)}class Pi{constructor(e,n){this.id=e,this.url=n}}class uI extends Pi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Pi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sp extends Pi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yF extends Pi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cJ extends Pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lJ extends Pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dJ extends Pi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hJ extends Pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fJ extends Pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _J{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vF{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class IF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=cI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=cI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=lI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lI(e,this._root).map(n=>n.value)}}function cI(t,e){if(t===e.value)return e;for(const n of e.children){const r=cI(t,n);if(r)return r}return null}function lI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=lI(t,n);if(r.length)return r.unshift(e),r}return[]}class Oi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function pu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class EF extends IF{constructor(e,n){super(e),this.snapshot=n,dI(this,e)}toString(){return this.snapshot.toString()}}function TF(t,e){const n=function wJ(t,e){const o=new Ap([],{},{},"",{},se,e,null,t.root,-1,{});return new CF("",new Oi(o,[]))}(t,e),r=new Nr([new Tl("",{})]),i=new Nr({}),s=new Nr({}),o=new Nr({}),a=new Nr(""),u=new bo(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new EF(new Oi(u,[]),n)}class bo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(fe(c=>c[El]))??B(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function IJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ap{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[El],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CF extends IF{constructor(e,n){super(n),this.url=e,dI(this,n)}toString(){return DF(this._root)}}function dI(t,e){e.value._routerState=t,e.children.forEach(n=>dI(t,n))}function DF(t){const e=t.children.length>0?` { ${t.children.map(DF).join(", ")} } `:"";return`${t.value}${e}`}function hI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qr(e.params,n.params)||t.params.next(n.params),function LX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function fI(t,e){const n=Qr(t.params,e.params)&&function jX(t,e){return Io(t,e)&&t.every((n,r)=>Qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||fI(t.parent,e.parent))}function Al(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function TJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Al(t,r,i);return Al(t,r)})}(t,e,n);return new Oi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Al(t,a)),o}}const r=function bJ(t){return new bo(new Nr(t.url),new Nr(t.params),new Nr(t.queryParams),new Nr(t.fragment),new Nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Al(t,s));return new Oi(r,i)}}const pI="ngNavigationCancelingError";function SF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function AF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[pI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function xF(t){return RF(t)&&Eo(t.url)}function RF(t){return t&&t[pI]}class CJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new xl,this.attachRef=null}}let xl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new CJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xp=!1;let gI=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new gn,this.deactivateEvents=new gn,this.attachEvents=new gn,this.detachEvents=new gn,this.name=i||se,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,xp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,xp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,xp);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,xp);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new DJ(n,a,i.injector);if(r&&function SJ(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)($(xl),$(Sr),function Lc(t){return function y3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(UR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(mt(),t)}("name"),$(ww),$(ds))},t.\u0275dir=Zt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class DJ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===bo?this.route:e===xl?this.childContexts:this.parent.get(e,n)}}let Rp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=zh({type:t,selectors:[["ng-component"]],standalone:!0,features:[HP],decls:1,vars:0,template:function(n,r){1&n&&Vf(0,"router-outlet")},dependencies:[gI],encapsulation:2}),t})();function NF(t,e){return t.providers&&!t._injector&&(t._injector=qf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _I(t){const e=t.children&&t.children.map(_I),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=Rp),n}function fr(t){return t.outlet||se}function kF(t,e){const n=t.filter(r=>fr(r)===e);return n.push(...t.filter(r=>fr(r)!==e)),n}function Rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class kJ{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=pu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),jt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=pu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=pu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=pu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vF(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _J(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(hI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Rl(i.snapshot),u=a?.get($a)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class MF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Np{constructor(e,n){this.component=e,this.route=n}}function MJ(t,e,n){const r=t._root;return Nl(r,e?e._root:null,n,[r.value])}function gu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function vq(t){return null!==Hh(t)}(t)?e.get(t):t:r}function Nl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=pu(e);return t.children.forEach(o=>{(function OJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function FJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Io(t.url,e.url)||!Qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fI(t,e)||!Qr(t.queryParams,e.queryParams);default:return!fI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new MF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Np(a.outlet.component,o))}else o&&kl(e,a,i),i.canActivateChecks.push(new MF(r)),Nl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),jt(s,(o,a)=>kl(o,n.getContext(a),i)),i}function kl(t,e,n){const r=pu(t),i=t.value;jt(r,(s,o)=>{kl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Np(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ml(t){return"function"==typeof t}function yI(t){return t instanceof vp||"EmptyError"===t?.name}const kp=Symbol("INITIAL_VALUE");function mu(){return hr(t=>zO(t.map(e=>e.pipe(Il(1),YO(kp)))).pipe(fe(e=>{for(const n of e)if(!0!==n){if(n===kp)return kp;if(!1===n||n instanceof wo)return n}return!0}),Kr(e=>e!==kp),Il(1)))}function PF(t){return function Vz(...t){return Gx(t)}($t(e=>{if(Eo(e))throw SF(0,e)}),fe(e=>!0===e))}const vI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OF(t,e,n,r,i){const s=wI(t,e,n);return s.matched?function ZJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?B(i.map(o=>{const a=gu(o,t);return ws(function jJ(t){return t&&Ml(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(mu(),PF()):B(!0)}(r=NF(e,r),e,n).pipe(fe(o=>!0===o?s:{...vI})):B(s)}function wI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...vI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||FX)(n,t,e);if(!i)return{...vI};const s={};jt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mp(t,e,n,r,i="corrected"){if(n.length>0&&function nZ(t,e,n){return n.some(r=>Pp(t,e,r)&&fr(r)!==se)}(t,n,r)){const o=new ce(e,function tZ(t,e,n,r){const i={};i[se]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&fr(s)!==se){const o=new ce([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[fr(s)]=o}return i}(t,e,r,new ce(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function rZ(t,e,n){return n.some(r=>Pp(t,e,r))}(t,n,r)){const o=new ce(t.segments,function eZ(t,e,n,r,i,s){const o={};for(const a of r)if(Pp(t,n,a)&&!i[fr(a)]){const u=new ce([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[fr(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ce(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Pp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function FF(t,e,n,r){return!!(fr(t)===r||r!==se&&Pp(e,n,t))&&("**"===t.path||wI(e,t,n).matched)}function LF(t,e,n){return 0===e.length&&!t.children[n]}const Op=!1;class Fp{constructor(e){this.segmentGroup=e||null}}class UF{constructor(e){this.urlTree=e}}function Pl(t){return wl(new Fp(t))}function VF(t){return wl(new UF(t))}class aZ{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Mp(this.urlTree.root,[],[],this.config).segmentGroup,n=new ce(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,se).pipe(fe(s=>this.createUrlTree(Dp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vs(s=>{if(s instanceof UF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Fp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,se).pipe(fe(i=>this.createUrlTree(Dp(i),e.queryParams,e.fragment))).pipe(vs(i=>{throw i instanceof Fp?this.noMatchError(i):i}))}noMatchError(e){return new O(4002,Op)}createUrlTree(e,n,r){const i=iI(e);return new wo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(fe(s=>new ce([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return gt(i).pipe(vo(s=>{const o=r.children[s],a=kF(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(fe(u=>({segment:u,outlet:s})))}),JO((s,o)=>(s[o.outlet]=o.segment,s),{}),ZO())}expandSegment(e,n,r,i,s,o){return gt(r).pipe(vo(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(vs(c=>{if(c instanceof Fp)return B(null);throw c}))),ys(a=>!!a),vs((a,u)=>{if(yI(a))return LF(n,i,s)?B(new ce([],{})):Pl(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return FF(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Pl(n):Pl(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VF(s):this.lineralizeSegments(r,s).pipe(Dt(o=>{const a=new ce(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=wI(n,i,s);if(!a)return Pl(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?VF(d):this.lineralizeSegments(i,d).pipe(Dt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=NF(r,e),r.loadChildren?(r._loadedRoutes?B({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(fe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ce(i,{})))):B(new ce(i,{}))):OF(n,r,i,e).pipe(hr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Dt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Mp(n,a,u,h),g=new ce(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(fe(y=>new ce(a,y)));if(0===h.length&&0===p.length)return B(new ce(a,{}));const m=fr(r)===s;return this.expandSegment(d,g,h,p,m?se:s,!0).pipe(fe(E=>new ce(a.concat(E.segments),E.children)))})):Pl(n)))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function JJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(o=>{const a=gu(o,t);return ws(function UJ(t){return t&&Ml(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(mu(),PF())}(e,n,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function sZ(t){return wl(AF(Op,3))}())):B({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[se])return wl(new O(4e3,Op));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new wo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return jt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return jt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new O(4001,Op);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class cZ{}class hZ{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Mp(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(fe(n=>{if(null===n)return null;const r=new Ap([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oi(r,n),s=new CF(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=bF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return gt(Object.keys(r.children)).pipe(vo(i=>{const s=r.children[i],o=kF(n,i);return this.processSegmentGroup(e,o,s,i)}),JO((i,s)=>i&&s?(i.push(...s),i):null),function MX(t,e=!1){return tt((n,r)=>{let i=0;n.subscribe(nt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),wp(null),ZO(),fe(i=>{if(null===i)return null;const s=BF(i);return function fZ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return gt(n).pipe(vo(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ys(o=>!!o),vs(o=>{if(yI(o))return LF(r,i,s)?B([]):B(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!FF(n,r,i,s))return B(null);let o;if("**"===n.path){const a=i.length>0?nF(i).parameters:{},u=jF(r)+i.length;o=B({snapshot:new Ap(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GF(n),fr(n),n.component??n._loadedComponent??null,n,$F(r),u,WF(n),u),consumedSegments:[],remainingSegments:[]})}else o=OF(r,n,i,e).pipe(fe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=jF(r)+u.length;return{snapshot:new Ap(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GF(n),fr(n),n.component??n._loadedComponent??null,n,$F(r),d,WF(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(hr(a=>{if(null===a)return B(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function pZ(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Mp(r,c,l,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(fe(m=>null===m?null:[new Oi(u,m)]));if(0===h.length&&0===p.length)return B([new Oi(u,[])]);const g=fr(n)===s;return this.processSegment(d,h,f,p,g?se:s).pipe(fe(m=>null===m?null:[new Oi(u,m)]))}))}}function gZ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BF(t){const e=[],n=new Set;for(const r of t){if(!gZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=BF(r.children);e.push(new Oi(r.value,i))}return e.filter(r=>!n.has(r))}function $F(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jF(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function GF(t){return t.data||{}}function WF(t){return t.resolve||{}}function zF(t){return"string"==typeof t.title||null===t.title}function II(t){return hr(e=>{const n=t(e);return n?gt(n).pipe(fe(()=>e)):B(e)})}let qF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[El]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:function(){return rt(KF)},providedIn:"root"}),t})(),KF=(()=>{class t extends qF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(F(Qw))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class TZ{}class CZ extends class bZ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Up=new V("",{providedIn:"root",factory:()=>({})}),EI=new V("ROUTES");let TI=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ws(n.loadComponent()).pipe($t(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),eI(()=>{this.componentLoaders.delete(n)})),i=new QO(r,()=>new _r).pipe(Jw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=tF(u.get(EI,[],H.Self|H.Optional)));return{routes:c.map(_I),injector:u}}),eI(()=>{this.childrenLoaders.delete(r)})),o=new QO(s,()=>new _r).pipe(Jw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ws(n()).pipe(Dt(r=>r instanceof $P||Array.isArray(r)?B(r):gt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(F(Ge),F(dw))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class SZ{}class AZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function xZ(t){throw t}function RZ(t,e,n){return e.parse("/")}const NZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function YF(){const t=rt(uF),e=rt(xl),n=rt(Sw),r=rt(Ge),i=rt(dw),s=rt(EI,{optional:!0})??[],o=rt(Up,{optional:!0})??{},a=rt(KF),u=rt(qF,{optional:!0}),c=rt(SZ,{optional:!0}),l=rt(TZ,{optional:!0}),d=new xt(null,t,e,n,r,i,tF(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function MZ(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let xt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _r,this.errorHandler=xZ,this.malformedUriErrorHandler=RZ,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>B(void 0),this.urlHandlingStrategy=new AZ,this.routeReuseStrategy=new CZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(TI),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new gJ(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new pJ(h)),this.ngModule=o.get(go),this.console=o.get(cQ);const d=o.get(ve);this.isNgZoneEnabled=d instanceof ve&&ve.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function UX(){return new wo(new ce([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TF(this.currentUrlTree,this.rootComponentType),this.transitions=new Nr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Kr(i=>0!==i.id),fe(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hr(i=>{let s=!1,o=!1;return B(i).pipe($t(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return XF(a.source)&&(this.browserUrlTree=a.extractedUrl),B(a).pipe(hr(d=>{const h=this.transitions.getValue();return r.next(new uI(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?vi:Promise.resolve(d)}),function uZ(t,e,n,r){return hr(i=>function oZ(t,e,n,r,i){return new aZ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(fe(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),$t(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function _Z(t,e,n,r,i,s){return Dt(o=>function dZ(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new hZ(t,e,n,r,i,o,a,s).recognize().pipe(hr(u=>null===u?function lZ(t){return new He(e=>e.error(t))}(new cZ):B(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(fe(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),$t(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new cJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,w=new uI(h,this.serializeUrl(f),p,g);r.next(w);const E=TF(f,this.rootComponentType).snapshot;return B(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),vi}),$t(a=>{const u=new lJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),fe(a=>i={...a,guards:MJ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function GJ(t,e){return Dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?B({...n,guardsResult:!0}):function WJ(t,e,n,r){return gt(t).pipe(Dt(i=>function XJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?B(s.map(a=>{const u=Rl(e)??i,c=gu(a,u);return ws(function $J(t){return t&&Ml(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ys())})).pipe(mu()):B(!0)}(i.component,i.route,n,e,r)),ys(i=>!0!==i,!0))}(o,r,i,t).pipe(Dt(a=>a&&function LJ(t){return"boolean"==typeof t}(a)?function zJ(t,e,n,r){return gt(e).pipe(vo(i=>Xw(function KJ(t,e){return null!==t&&e&&e(new mJ(t)),B(!0)}(i.route.parent,r),function qJ(t,e){return null!==t&&e&&e(new yJ(t)),B(!0)}(i.route,r),function YJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function PJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>KO(()=>B(o.guards.map(u=>{const c=Rl(o.node)??n,l=gu(u,c);return ws(function BJ(t){return t&&Ml(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ys())})).pipe(mu())));return B(s).pipe(mu())}(t,i.path,n),function QJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(s=>KO(()=>{const o=Rl(e)??n,a=gu(s,o);return ws(function VJ(t){return t&&Ml(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ys())}));return B(i).pipe(mu())}(t,i.route,n))),ys(i=>!0!==i,!0))}(r,s,t,e):B(a)),fe(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),$t(a=>{if(i.guardsResult=a.guardsResult,Eo(a.guardsResult))throw SF(0,a.guardsResult);const u=new dJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Kr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),II(a=>{if(a.guards.canActivateChecks.length)return B(a).pipe($t(u=>{const c=new hJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),hr(u=>{let c=!1;return B(u).pipe(function yZ(t,e){return Dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let s=0;return gt(i).pipe(vo(o=>function vZ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!zF(i)&&(s[El]=i.title),function wZ(t,e,n,r){const i=function IZ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return B({});const s={};return gt(i).pipe(Dt(o=>function EZ(t,e,n,r){const i=Rl(e)??r,s=gu(t,i);return ws(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ys(),$t(a=>{s[o]=a}))),Zw(1),function PX(t){return fe(()=>t)}(s),vs(o=>yI(o)?vi:wl(o)))}(s,t,e,r).pipe(fe(o=>(t._resolvedData=o,t.data=bF(t,n).resolve,i&&zF(i)&&(t.data[El]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),Zw(1),Dt(o=>s===i.length?B(n):vi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),$t({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),$t(u=>{const c=new fJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),II(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe($t(d=>{c.component=d}),fe(()=>{})));for(const d of c.children)l.push(...u(d));return l};return zO(u(a.targetSnapshot.root)).pipe(wp(),Il(1))}),II(()=>this.afterPreactivation()),fe(a=>{const u=function EJ(t,e,n){const r=Al(t,e._root,n?n._root:void 0);return new EF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),$t(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>fe(r=>(new kJ(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),$t({next(){s=!0},complete(){s=!0}}),eI(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),vs(a=>{if(o=!0,RF(a)){xF(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Sp(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),xF(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XF(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new yF(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return vi}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(_I),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),rJ(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Eo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function PZ(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new O(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...NZ}:!1===r?{...kZ}:r,Eo(n))return iF(this.currentUrlTree,n,i);const s=this.parseUrl(n);return iF(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new To(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Sp(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){cv()},t.\u0275prov=Z({token:t,factory:function(){return YF()},providedIn:"root"}),t})();function XF(t){return"imperative"!==t}class JF{}let LZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(n=>n instanceof To),vo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=qf(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return gt(i).pipe(Ia())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const s=i.pipe(Dt(o=>null===o?B(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?gt([s,this.loader.loadComponent(r)]).pipe(Ia()):s})}}return t.\u0275fac=function(n){return new(n||t)(F(xt),F(dw),F(ds),F(JF),F(TI))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const DI=new V("");let ZF=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof uI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof To&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof wF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new wF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){cv()},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function _u(t,e){return{\u0275kind:t,\u0275providers:e}}function SI(t){return[{provide:EI,multi:!0,useValue:t}]}function tL(){const t=rt(Ge);return e=>{const n=t.get(Zf);if(e!==n.components[0])return;const r=t.get(xt),i=t.get(nL);1===t.get(AI)&&r.initialNavigation(),t.get(rL,null,H.Optional)?.setUpPreloading(),t.get(DI,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const nL=new V("",{factory:()=>new _r}),AI=new V("",{providedIn:"root",factory:()=>1});const rL=new V("");function $Z(t){return _u(0,[{provide:rL,useExisting:LZ},{provide:JF,useExisting:t}])}const iL=new V("ROUTER_FORROOT_GUARD"),jZ=[Sw,{provide:uF,useClass:nI},{provide:xt,useFactory:YF},xl,{provide:bo,useFactory:function eL(t){return t.routerState.root},deps:[xt]},TI];function HZ(){return new F1("Router",xt)}let sL=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[jZ,[],SI(n),{provide:iL,useFactory:qZ,deps:[[xt,new he,new Gc]]},{provide:Up,useValue:r||{}},r?.useHash?{provide:yo,useClass:XQ}:{provide:yo,useClass:aO},{provide:DI,useFactory:()=>{const t=rt(xt),e=rt(w9),n=rt(Up);return n.scrollOffset&&e.setOffset(n.scrollOffset),new ZF(t,e,n)}},r?.preloadingStrategy?$Z(r.preloadingStrategy).\u0275providers:[],{provide:F1,multi:!0,useFactory:HZ},r?.initialNavigation?KZ(r):[],[{provide:oL,useFactory:tL},{provide:x1,multi:!0,useExisting:oL}]]}}static forChild(n){return{ngModule:t,providers:[SI(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(iL,8))},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({imports:[Rp]}),t})();function qZ(t){return"guarded"}function KZ(t){return["disabled"===t.initialNavigation?_u(3,[{provide:mo,multi:!0,useFactory:()=>{const e=rt(xt);return()=>{e.setUpLocationChangeListener()}}},{provide:AI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?_u(2,[{provide:AI,useValue:0},{provide:mo,multi:!0,deps:[Ge],useFactory:e=>{const n=e.get(QQ,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const o=e.get(xt),a=e.get(nL);(function i(s){e.get(xt).events.pipe(Kr(a=>a instanceof To||a instanceof Sp||a instanceof yF),fe(a=>a instanceof To||a instanceof Sp&&(0===a.code||1===a.code)&&null),Kr(a=>null!==a),Il(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?B(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const oL=new V(""),YZ=[];let XZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({imports:[sL.forRoot(YZ),sL]}),t})(),JZ=(()=>{class t{constructor(){this.title="andi-angular"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=zh({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&(Lf(0,"p"),function zM(t,e=""){const n=T(),r=ge(),i=t+22,s=r.firstCreatePass?qa(r,i,1,e,null):r.data[i],o=n[i]=function Xy(t,e){return t.createText(e)}(n[11],e);Tf(r,n,o,s),jr(s,!1)}(1,"kjnonrfniooienwo"),Uf(),Vf(2,"router-outlet"))},dependencies:[gI]}),t})();function aL(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){aL(s,r,i,o,a,"next",u)}function a(u){aL(s,r,i,o,a,"throw",u)}o(void 0)})}}const R=function(t,e){if(!t)throw yu(e)},yu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},uL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},jp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cL=function(t){const e=uL(t);return jp.encodeByteArray(e,!0)},Hp=function(t){return cL(t).replace(/\./g,"")},Gp=function(t){try{return jp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eee(t){return lL(void 0,t)}function lL(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tee(n)||(t[n]=lL(t[n],e[n]));return t}function tee(t){return"__proto__"!==t}function Rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function RI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function NI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function dL(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Is(){return"object"==typeof indexedDB}function vu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Wp(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const kI=()=>{try{return function iee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},hL=t=>{var e,n;return null===(n=null===(e=kI())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},zp=t=>{const e=hL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fL=t=>{var e;return null===(e=kI())||void 0===e?void 0:e[`_${t}`]};class wu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function MI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify({alg:"none",type:"JWT"})),Hp(JSON.stringify(o)),""].join(".")}class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function lee(t,e){return t.replace(dee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Kn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const dee=/\{\$([^}]+)}/g;function Ol(t){return JSON.parse(t)}function Ht(t){return JSON.stringify(t)}const qp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ol(Gp(s[0])||""),n=Ol(Gp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Iu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function PI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Fl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pL(s)&&pL(o)){if(!Fl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pL(t){return null!==t&&"object"==typeof t}function Ll(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class pee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class mee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function _ee(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=OI),void 0===i.error&&(i.error=OI),void 0===i.complete&&(i.complete=OI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OI(){}const Yp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function FI(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function wt(t){return t&&t._delegate?t._delegate:t}class ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Co="[DEFAULT]";class bee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Dee(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Co?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class See{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const LI=[];var me=(()=>{return(t=me||(me={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",me;var t})();const gL={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Aee=me.INFO,xee={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Ree=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=xee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Es{constructor(e){this.name=e,this._logLevel=Aee,this._logHandler=Ree,this._userLogHandler=null,LI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}let mL,_L;const yL=new WeakMap,UI=new WeakMap,vL=new WeakMap,VI=new WeakMap,BI=new WeakMap;let $I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return UI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||vL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Uee(t){return"function"==typeof t?function Lee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mee(){return _L||(_L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(jI(this),e),Ui(yL.get(this))}:function(...e){return Ui(t.apply(jI(this),e))}:function(e,...n){const r=t.call(jI(this),e,...n);return vL.set(r,e.sort?e.sort():[e]),Ui(r)}}(t):(t instanceof IDBTransaction&&function Oee(t){if(UI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});UI.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function kee(){return mL||(mL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,$I):t)}function Ui(t){if(t instanceof IDBRequest)return function Pee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ui(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yL.set(n,t)}).catch(()=>{}),BI.set(e,t),e}(t);if(VI.has(t))return VI.get(t);const e=Uee(t);return e!==t&&(VI.set(t,e),BI.set(e,t)),e}const jI=t=>BI.get(t);function Xp(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ui(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ui(o.result),u.oldVersion,u.newVersion,Ui(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function HI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ui(n).then(()=>{})}const Vee=["get","getKey","getAll","getAllKeys","count"],Bee=["put","add","delete","clear"],GI=new Map;function wL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(GI.get(e))return GI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vee.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return GI.set(e,s),s}!function Fee(t){$I=t($I)}(t=>({...t,get:(e,n,r)=>wL(e,n)||t.get(e,n,r),has:(e,n)=>!!wL(e,n)||t.has(e,n)}));class $ee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function jee(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const WI="@firebase/app",Do=new Es("@firebase/app"),Jp="[DEFAULT]",pte={[WI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},So=new Map,Zp=new Map;function gte(t,e){try{t.container.addComponent(e)}catch(n){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function It(t){const e=t.name;if(Zp.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of So.values())gte(n,t);return!0}function Rn(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Vi=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _te{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const Ts="9.14.0";function EL(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=kI())||void 0===t?void 0:t.config})()),!n)throw Vi.create("no-options");const s=So.get(i);if(s){if(Fl(n,s.options)&&Fl(r,s.config))return s;throw Vi.create("duplicate-app",{appName:i})}const o=new See(i);for(const u of Zp.values())o.addComponent(u);const a=new _te(n,r,o);return So.set(i,a),a}function Yr(t=Jp){const e=So.get(t);if(!e&&t===Jp)return EL();if(!e)throw Vi.create("no-app",{appName:t});return e}function TL(){return Array.from(So.values())}function oe(t,e,n){var r;let i=null!==(r=pte[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Do.warn(a.join(" "))}It(new ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ul="firebase-heartbeat-store";let qI=null;function bL(){return qI||(qI=Xp("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ul)}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),qI}function KI(){return(KI=_(function*(t){var e;try{return(yield bL()).transaction(Ul).objectStore(Ul).get(DL(t))}catch(n){if(n instanceof Kn)Do.warn(n.message);else{const r=Vi.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});Do.warn(r.message)}}})).apply(this,arguments)}function CL(t,e){return QI.apply(this,arguments)}function QI(){return(QI=_(function*(t,e){var n;try{const i=(yield bL()).transaction(Ul,"readwrite");return yield i.objectStore(Ul).put(e,DL(t)),i.done}catch(r){if(r instanceof Kn)Do.warn(r.message);else{const i=Vi.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});Do.warn(i.message)}}})).apply(this,arguments)}function DL(t){return`${t.name}!${t.options.appId}`}class Tte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=SL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=SL(),{heartbeatsToSend:r,unsentEntries:i}=function bte(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Hp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function SL(){return(new Date).toISOString().substring(0,10)}class Cte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Is()&&vu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function wte(t){return KI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function AL(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}!function Dte(t){It(new ht("platform-logger",e=>new $ee(e),"PRIVATE")),It(new ht("heartbeat",e=>new Tte(e),"PRIVATE")),oe(WI,"0.8.4",t),oe(WI,"0.8.4","esm2017"),oe("fire-js","")}(""),oe("firebase","9.14.0","app");const xL="@firebase/installations",YI="0.5.16",NL=`w:${YI}`,kL="FIS_v2",Bi=new kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ML(t){return t instanceof Kn&&t.code.includes("request-failed")}function XI({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function PL(t){return{token:t.token,requestStatus:2,expiresIn:Pte(t.expiresIn),creationTime:Date.now()}}function JI(t,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=_(function*(t,e){const r=(yield e.json()).error;return Bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FL(t,{refreshToken:e}){const n=OL(t);return n.append("Authorization",function Ote(t){return`${kL} ${t}`}(e)),n}function eE(t){return tE.apply(this,arguments)}function tE(){return(tE=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Pte(t){return Number(t.replace("s","000"))}function Fte(t,e){return nE.apply(this,arguments)}function nE(){return(nE=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=XI(t),i=OL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:kL,appId:t.appId,sdkVersion:NL})},u=yield eE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:PL(c.authToken)}}throw yield JI("Create Installation",u)})).apply(this,arguments)}function LL(t){return new Promise(e=>{setTimeout(e,t)})}const Ute=/^[cdef][\w-]{21}$/;function Vte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Bte(t){return function Lte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ute.test(n)?n:""}catch{return""}}function Eu(t){return`${t.appName}!${t.appId}`}const Tu=new Map;function UL(t,e){const n=Eu(t);VL(n,e),function Hte(t,e){const n=function BL(){return!Ao&&"BroadcastChannel"in self&&(Ao=new BroadcastChannel("[Firebase] FID Change"),Ao.onmessage=t=>{VL(t.data.key,t.data.fid)}),Ao}();n&&n.postMessage({key:t,fid:e}),function $L(){0===Tu.size&&Ao&&(Ao.close(),Ao=null)}()}(n,e)}function VL(t,e){const n=Tu.get(t);if(n)for(const r of n)r(e)}let Ao=null;const xo="firebase-installations-store";let iE=null;function sE(){return iE||(iE=Xp("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xo)}})),iE}function eg(t,e){return oE.apply(this,arguments)}function oE(){return(oE=_(function*(t,e){const n=Eu(t),i=(yield sE()).transaction(xo,"readwrite"),s=i.objectStore(xo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&UL(t,e.fid),e})).apply(this,arguments)}function aE(t){return uE.apply(this,arguments)}function uE(){return(uE=_(function*(t){const e=Eu(t),r=(yield sE()).transaction(xo,"readwrite");yield r.objectStore(xo).delete(e),yield r.done})).apply(this,arguments)}function Vl(t,e){return cE.apply(this,arguments)}function cE(){return(cE=_(function*(t,e){const n=Eu(t),i=(yield sE()).transaction(xo,"readwrite"),s=i.objectStore(xo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&UL(t,a.fid),a})).apply(this,arguments)}function lE(t){return dE.apply(this,arguments)}function dE(){return(dE=_(function*(t){let e;const n=yield Vl(t.appConfig,r=>{const i=zte(r),s=qte(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function zte(t){return HL(t||{fid:Vte(),registrationStatus:0})}function qte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Bi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Kte(t,e){return hE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Qte(t)}:{installationEntry:e}}function hE(){return(hE=_(function*(t,e){try{const n=yield Fte(t,e);return eg(t.appConfig,n)}catch(n){throw ML(n)&&409===n.customData.serverCode?yield aE(t.appConfig):yield eg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Qte(t){return fE.apply(this,arguments)}function fE(){return(fE=_(function*(t){let e=yield jL(t.appConfig);for(;1===e.registrationStatus;)yield LL(100),e=yield jL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield lE(t);return r||n}return e})).apply(this,arguments)}function jL(t){return Vl(t,e=>{if(!e)throw Bi.create("installation-not-found");return HL(e)})}function HL(t){return function Yte(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Xte(t,e){return pE.apply(this,arguments)}function pE(){return(pE=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=Jte(t,n),i=FL(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:NL,appId:t.appId}})},u=yield eE(()=>fetch(r,a));if(u.ok)return PL(yield u.json());throw yield JI("Generate Auth Token",u)})).apply(this,arguments)}function Jte(t,{fid:e}){return`${XI(t)}/${e}/authTokens:generate`}function gE(t){return mE.apply(this,arguments)}function mE(){return(mE=_(function*(t,e=!1){let n;const r=yield Vl(t.appConfig,s=>{if(!WL(s))throw Bi.create("not-registered");const o=s.authToken;if(!e&&tne(o))return s;if(1===o.requestStatus)return n=Zte(t,e),s;{if(!navigator.onLine)throw Bi.create("app-offline");const a=rne(s);return n=ene(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function Zte(t,e){return _E.apply(this,arguments)}function _E(){return(_E=_(function*(t,e){let n=yield GL(t.appConfig);for(;1===n.authToken.requestStatus;)yield LL(100),n=yield GL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?gE(t,e):r})).apply(this,arguments)}function GL(t){return Vl(t,e=>{if(!WL(e))throw Bi.create("not-registered");return function ine(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ene(t,e){return yE.apply(this,arguments)}function yE(){return(yE=_(function*(t,e){try{const n=yield Xte(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield eg(t.appConfig,r),n}catch(n){if(!ML(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield eg(t.appConfig,r)}else yield aE(t.appConfig);throw n}})).apply(this,arguments)}function WL(t){return void 0!==t&&2===t.registrationStatus}function tne(t){return 2===t.requestStatus&&!function nne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function rne(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function vE(){return(vE=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield lE(e);return r?r.catch(console.error):gE(e).catch(console.error),n.fid})).apply(this,arguments)}function wE(){return(wE=_(function*(t,e=!1){const n=t;return yield ane(n),(yield gE(n,e)).token})).apply(this,arguments)}function ane(t){return IE.apply(this,arguments)}function IE(){return(IE=_(function*(t){const{registrationPromise:e}=yield lE(t);e&&(yield e)})).apply(this,arguments)}function bE(t){return Bi.create("missing-app-config-values",{valueName:t})}const zL="installations",hne=t=>{const e=t.getProvider("app").getImmediate(),n=function lne(t){if(!t||!t.options)throw bE("App Configuration");if(!t.name)throw bE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw bE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Rn(e,"heartbeat"),_delete:()=>Promise.resolve()}},fne=t=>{const n=Rn(t.getProvider("app").getImmediate(),zL).getImmediate();return{getId:()=>function sne(t){return vE.apply(this,arguments)}(n),getToken:i=>function one(t){return wE.apply(this,arguments)}(n,i)}};(function pne(){It(new ht(zL,hne,"PUBLIC")),It(new ht("installations-internal",fne,"PRIVATE"))})(),oe(xL,YI),oe(xL,YI,"esm2017");const CE="@firebase/remote-config",KL="remote-config",Nn=new kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Ine(t=Yr()){return Rn(t=wt(t),KL).getImmediate()}class Dne{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Sne(t=navigator){return t.languages&&t.languages[0]||t.language}class Ane{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:Sne()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((b,A)=>{e.signal.addEventListener(()=>{const P=new Error("The operation was aborted.");P.name="AbortError",A(P)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(b){let A="fetch-client-network";throw"AbortError"===(null===(r=b)||void 0===r?void 0:r.name)&&(A="fetch-timeout"),Nn.create(A,{originalErrorMessage:null===(i=b)||void 0===i?void 0:i.message})}let m=g.status;const w=g.headers.get("ETag")||void 0;let E,y;if(200===g.status){let b;try{b=yield g.json()}catch(A){throw Nn.create("fetch-client-parse",{originalErrorMessage:null===(s=A)||void 0===s?void 0:s.message})}E=b.entries,y=b.state}if("INSTANCE_STATE_UNSPECIFIED"===y?m=500:"NO_CHANGE"===y?m=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(E={}),304!==m&&200!==m)throw Nn.create("fetch-status",{httpStatus:m});return{status:m,eTag:w,config:E}})()}}class Nne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function xne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Rne(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+FI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Pne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ng(t,e){var n;const r=t.target.error||void 0;return Nn.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const Ro="app_namespace_store";class Une{constructor(e,n,r,i=function Lne(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(ng(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ro,{keyPath:"compositeKey"})}}catch(r){e(Nn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Ro],"readonly").objectStore(Ro),c=n.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(ng(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(Nn.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([Ro],"readwrite").objectStore(Ro),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:n});d.onerror=h=>{o(ng(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Nn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Ro],"readwrite").objectStore(Ro),c=n.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(ng(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Nn.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Vne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function $ne(){return RE.apply(this,arguments)}function RE(){return(RE=_(function*(){if(!Is())return!1;try{return yield vu()}catch{return!1}})).apply(this,arguments)}!function Bne(){It(new ht(KL,function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!Is())throw Nn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Nn.create("registration-project-id");if(!o)throw Nn.create("registration-api-key");if(!a)throw Nn.create("registration-app-id");const u=new Une(a,r.name,n=n||"firebase"),c=new Vne(u),l=new Es(CE);l.logLevel=me.ERROR;const d=new Ane(i,Ts,n,s,o,a),h=new Nne(d,u),f=new Dne(h,u,c,l),p=new Pne(r,f,c,u,l);return function Tne(t){const e=wt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),oe(CE,"0.3.15"),oe(CE,"0.3.15","esm2017")}();const jne="/firebase-messaging-sw.js",Hne="/firebase-cloud-messaging-push-scope",YL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",XL="google.c.a.c_id",Wne="google.c.a.c_l",zne="google.c.a.ts",qne="google.c.a.e";var bu=(()=>{return(t=bu||(bu={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",bu;var t})();function $i(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const NE="fcm_token_details_db",JL="fcm_token_object_Store";function Yne(t){return kE.apply(this,arguments)}function kE(){return kE=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(NE))return null;let e=null;return(yield Xp(NE,5,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(JL))return;const c=a.objectStore(JL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:$i(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:$i(d.auth),p256dh:$i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:$i(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:$i(d.auth),p256dh:$i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:$i(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield HI(NE),yield HI("fcm_vapid_details_db"),yield HI("undefined"),Xne(e)?e:null;var r}),kE.apply(this,arguments)}function Xne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const No="firebase-messaging-store";let ME=null;function PE(){return ME||(ME=Xp("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(No)}})),ME}function ZL(t){return OE.apply(this,arguments)}function OE(){return(OE=_(function*(t){const e=VE(t),r=yield(yield PE()).transaction(No).objectStore(No).get(e);if(r)return r;{const i=yield Yne(t.appConfig.senderId);if(i)return yield FE(t,i),i}})).apply(this,arguments)}function FE(t,e){return LE.apply(this,arguments)}function LE(){return(LE=_(function*(t,e){const n=VE(t),i=(yield PE()).transaction(No,"readwrite");return yield i.objectStore(No).put(e,n),yield i.done,e})).apply(this,arguments)}function ere(t){return UE.apply(this,arguments)}function UE(){return(UE=_(function*(t){const e=VE(t),r=(yield PE()).transaction(No,"readwrite");yield r.objectStore(No).delete(e),yield r.done})).apply(this,arguments)}function VE({appConfig:t}){return t.appId}const Gt=new kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nre(t,e){return BE.apply(this,arguments)}function BE(){return(BE=_(function*(t,e){var n;const r=yield GE(t),i=tU(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(HE(t.appConfig),s)).json()}catch(a){throw Gt.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Gt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Gt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function rre(t,e){return $E.apply(this,arguments)}function $E(){return($E=_(function*(t,e){var n;const r=yield GE(t),i=tU(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${HE(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw Gt.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Gt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Gt.create("token-update-no-token");return o.token})).apply(this,arguments)}function eU(t,e){return jE.apply(this,arguments)}function jE(){return(jE=_(function*(t,e){var n;const i={method:"DELETE",headers:yield GE(t)};try{const o=yield(yield fetch(`${HE(t.appConfig)}/${e}`,i)).json();if(o.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Gt.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function HE({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function GE(t){return WE.apply(this,arguments)}function WE(){return(WE=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function tU({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==YL&&(i.web.applicationPubKey=r),i}function sre(t){return zE.apply(this,arguments)}function zE(){return(zE=_(function*(t){const e=yield are(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:$i(e.getKey("auth")),p256dh:$i(e.getKey("p256dh"))},r=yield ZL(t.firebaseDependencies);if(r){if(ure(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?ore(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield eU(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return rU(t.firebaseDependencies,n)}return rU(t.firebaseDependencies,n)})).apply(this,arguments)}function nU(t){return qE.apply(this,arguments)}function qE(){return(qE=_(function*(t){const e=yield ZL(t.firebaseDependencies);e&&(yield eU(t.firebaseDependencies,e.token),yield ere(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function ore(t,e){return KE.apply(this,arguments)}function KE(){return(KE=_(function*(t,e){try{const n=yield rre(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield FE(t.firebaseDependencies,r),n}catch(n){throw yield nU(t),n}})).apply(this,arguments)}function rU(t,e){return QE.apply(this,arguments)}function QE(){return(QE=_(function*(t,e){const r={token:yield nre(t,e),createTime:Date.now(),subscriptionOptions:e};return yield FE(t,r),r.token})).apply(this,arguments)}function are(t,e){return YE.apply(this,arguments)}function YE(){return(YE=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kne(e)})})).apply(this,arguments)}function ure(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function iU(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function cre(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function lre(t,e){!e.data||(t.data=e.data)}(e,t),function dre(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function hre(t){return"object"==typeof t&&!!t&&XL in t}function sU(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function XE(t){return Gt.create("missing-app-config-values",{valueName:t})}sU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function fre(t){if(!t||!t.options)throw XE("App Configuration Object");if(!t.name)throw XE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw XE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function oU(t){return JE.apply(this,arguments)}function JE(){return(JE=_(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(jne,{scope:Hne}),t.swRegistration.update().catch(()=>{})}catch(n){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function gre(t,e){return ZE.apply(this,arguments)}function ZE(){return(ZE=_(function*(t,e){if(!e&&!t.swRegistration&&(yield oU(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function mre(t,e){return eT.apply(this,arguments)}function eT(){return(eT=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=YL)})).apply(this,arguments)}function tT(){return(tT=_(function*(t,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield mre(t,e?.vapidKey),yield gre(t,e?.serviceWorkerRegistration),sre(t)})).apply(this,arguments)}function _re(t,e,n){return nT.apply(this,arguments)}function nT(){return(nT=_(function*(t,e,n){const r=yre(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[XL],message_name:n[Wne],message_time:n[zne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yre(t){switch(t){case bu.NOTIFICATION_CLICKED:return"notification_open";case bu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rT(){return(rT=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===bu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(iU(n)):t.onMessageHandler.next(iU(n)));const r=n.data;hre(r)&&"1"===r[qne]&&(yield _re(t,n.messageType,r))})).apply(this,arguments)}const uU="@firebase/messaging",wre=t=>{const e=new pre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function vre(t,e){return rT.apply(this,arguments)}(e,n)),e},Ire=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function aU(t,e){return tT.apply(this,arguments)}(e,r)}};function lU(){return iT.apply(this,arguments)}function iT(){return(iT=_(function*(){try{yield vu()}catch{return!1}return typeof window<"u"&&Is()&&Wp()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Cre(t=Yr()){return lU().then(e=>{if(!e)throw Gt.create("unsupported-browser")},e=>{throw Gt.create("indexed-db-unsupported")}),Rn(wt(t),"messaging").getImmediate()}!function Ere(){It(new ht("messaging",wre,"PUBLIC")),It(new ht("messaging-internal",Ire,"PRIVATE")),oe(uU,"0.11.0"),oe(uU,"0.11.0","esm2017")}();const rg="analytics",Dre="firebase_id",xre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dU="https://www.googletagmanager.com/gtag/js",Wt=new Es("@firebase/analytics");function hU(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Rre(t,e){const n=document.createElement("script");n.src=`${dU}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function kre(t,e,n,r,i,s){return aT.apply(this,arguments)}function aT(){return(aT=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield hU(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Wt.error(a)}t("config",i,s)})).apply(this,arguments)}function Mre(t,e,n,r,i){return uT.apply(this,arguments)}function uT(){return(uT=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield hU(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Wt.error(s)}})).apply(this,arguments)}function Fre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dU)&&n.src.includes(t))return n;return null}const Qn=new kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fU=new class Bre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $re(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jre(t){return cT.apply(this,arguments)}function cT(){return(cT=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$re(r)},s=xre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Hre(t){return lT.apply(this,arguments)}function lT(){return(lT=_(function*(t,e=fU,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Qn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zre;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:6e4),pU({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function pU(t,e,n){return dT.apply(this,arguments)}function dT(){return(dT=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fU){var s,o;const{appId:a,measurementId:u}=t;try{yield Gre(r,e)}catch(c){if(u)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield jre(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!Wre(l)){if(i.deleteThrottleMetadata(a),u)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?FI(n,i.intervalMillis,30):FI(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),Wt.debug(`Calling attemptFetch again in ${d} millis`),pU(t,h,r,i)}})).apply(this,arguments)}function Gre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Wre(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class zre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hT,yT;function fT(){return(fT=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function gT(){return(gT=_(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function gU(t){yT=t}function mU(t){hT=t}function Jre(){return vT.apply(this,arguments)}function vT(){return(vT=_(function*(){var t;if(!Is())return Wt.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield vu()}catch(e){return Wt.warn(Qn.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function wT(){return(wT=_(function*(t,e,n,r,i,s,o){var a;const u=Hre(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Wt.error(f)),e.push(u);const c=Jre().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);Fre(s)||Rre(s,l.measurementId),yT&&(i("consent","default",yT),gU(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Dre]=d),i("config",l.measurementId,h),hT&&(i("set",hT),mU(void 0)),l.measurementId})).apply(this,arguments)}class eie{constructor(e){this.app=e}_delete(){return delete ji[this.app.options.appId],Promise.resolve()}}let ji={},_U=[];const yU={};let wU,Hi,ig="dataLayer",IT=!1;function nie(t,e,n){!function tie(){const t=[];if(NI()&&t.push("This is a browser extension environment."),Wp()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Qn.create("invalid-analytics-context",{errorInfo:e});Wt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Qn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Qn.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ji[r])throw Qn.create("already-exists",{id:r});if(!IT){!function Nre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ig);const{wrappedGtag:s,gtagCore:o}=function Ore(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Pre(t,e,n,r){function s(){return(s=_(function*(o,a,u){try{"event"===o?yield Mre(t,e,n,a,u):"config"===o?yield kre(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Wt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ji,_U,yU,ig,"gtag");Hi=s,wU=o,IT=!0}return ji[r]=function Zre(t,e,n,r,i,s,o){return wT.apply(this,arguments)}(t,_U,yU,e,wU,ig,n),new eie(t)}function rie(t=Yr()){const e=Rn(t=wt(t),rg);return e.isInitialized()?e.getImmediate():function iie(t,e={}){const n=Rn(t,rg);if(n.isInitialized()){const i=n.getImmediate();if(Fl(e,n.getOptions()))return i;throw Qn.create("already-initialized")}return n.initialize({options:e})}(t)}function sie(){return ET.apply(this,arguments)}function ET(){return(ET=_(function*(){if(NI()||!Wp()||!Is())return!1;try{return yield vu()}catch{return!1}})).apply(this,arguments)}function oie(t,e,n){t=wt(t),function Qre(t,e,n,r){return gT.apply(this,arguments)}(Hi,ji[t.app.options.appId],e,n).catch(r=>Wt.error(r))}function IU(t,e,n,r){t=wt(t),function qre(t,e,n,r,i){return fT.apply(this,arguments)}(Hi,ji[t.app.options.appId],e,n,r).catch(i=>Wt.error(i))}const EU="@firebase/analytics";!function aie(){It(new ht(rg,(e,{options:n})=>nie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),It(new ht("analytics-internal",function t(e){try{const n=e.getProvider(rg).getImmediate();return{logEvent:(r,i,s)=>IU(n,r,i,s)}}catch(n){throw Qn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),oe(EU,"0.8.4"),oe(EU,"0.8.4","esm2017")}();class uie extends Vn{constructor(e,n){super()}schedule(e,n=0){return this}}const sg={setInterval(t,e,...n){const{delegate:r}=sg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=sg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class bU extends uie{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return sg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&sg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wa(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const CU={now:()=>(CU.delegate||Date).now(),delegate:void 0};class Bl{constructor(e,n=Bl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Bl.now=CU.now;class DU extends Bl{constructor(e,n=Bl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const die=new class lie extends DU{}(class cie extends bU{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),hie=new DU(bU),Yn=new Yc("7.4.1"),TT="__angularfire_symbol__analyticsIsSupportedValue",bT="__angularfire_symbol__analyticsIsSupported",CT="__angularfire_symbol__remoteConfigIsSupportedValue",DT="__angularfire_symbol__remoteConfigIsSupported",ST="__angularfire_symbol__messagingIsSupportedValue",AT="__angularfire_symbol__messagingIsSupported";globalThis[bT]||(globalThis[bT]=sie().then(t=>globalThis[TT]=t).catch(()=>globalThis[TT]=!1)),globalThis[AT]||(globalThis[AT]=lU().then(t=>globalThis[ST]=t).catch(()=>globalThis[ST]=!1)),globalThis[DT]||(globalThis[DT]=$ne().then(t=>globalThis[CT]=t).catch(()=>globalThis[CT]=!1));const xT=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`,og={async:()=>globalThis[AT],sync:()=>{const t=globalThis[ST];if(void 0===t)throw new Error(xT("Messaging"));return t}},ag={async:()=>globalThis[DT],sync:()=>{const t=globalThis[CT];if(void 0===t)throw new Error(xT("RemoteConfig"));return t}},ug={async:()=>globalThis[bT],sync:()=>{const t=globalThis[TT];if(void 0===t)throw new Error(xT("Analytics"));return t}};function Xr(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Jr=(t,e)=>{const n=e?[e]:TL(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Cu(){}class SU{constructor(e,n=die){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class fie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)),n.pipe($t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zr=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new SU(Zone.current)),this.insideAngular=n.run(()=>new SU(Zone.current,hie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(ve))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ko(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function pie(t){return ko().ngZone.runOutsideAngular(()=>t())}function Mo(t){return ko().ngZone.run(()=>t())}function gie(t){return ko(),function mie(t){return function(n){return(n=n.lift(new fie(t.ngZone))).pipe(Bh(t.outsideAngular),Vh(t.insideAngular))}}(ko())(t)}const _ie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Mo(()=>t.apply(void 0,r))},Xn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)))),r[s]=_ie(r[s],n));const i=pie(()=>t.apply(this,r));if(!e){if(i instanceof He){const s=ko();return i.pipe(Bh(s.outsideAngular),Vh(s.insideAngular))}return Mo(()=>i)}return i instanceof He?i.pipe(gie):i instanceof Promise?Mo(()=>new Promise((s,o)=>i.then(a=>Mo(()=>s(a)),a=>Mo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Mo(()=>i)};class Jn{constructor(e){return e}}class ei{constructor(){return TL()}}const RT=new V("angularfire2._apps"),vie={provide:Jn,useFactory:function yie(t){return t&&1===t.length?t[0]:new Jn(Yr())},deps:[[new he,RT]]},wie={provide:ei,deps:[[new he,RT]]};function Iie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Jn(r)}}let Eie=(()=>{class t{constructor(n){oe("angularfire",Yn.full,"core"),oe("angularfire",Yn.full,"app"),oe("angular",ON.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(cu))},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[vie,wie]}),t})();function Tie(t,...e){return{ngModule:Eie,providers:[{provide:RT,useFactory:Iie(t),multi:!0,deps:[ve,Ge,Zr,...e]}]}}const bie=Xn(EL,!0),AU_firebase={projectId:"ifiok-362716",appId:"1:211073269577:web:7d7dd1b793430a4efb6498",databaseURL:"https://ifiok-362716-default-rtdb.firebaseio.com",storageBucket:"ifiok-362716.appspot.com",locationId:"us-central",apiKey:"AIzaSyAKNmhVIGol4yqDLRvnxyvOeTq3GXyuWrs",authDomain:"ifiok-362716.firebaseapp.com",messagingSenderId:"211073269577",measurementId:"G-K6WYVP1MEK"};function Sie(t,e){return t===e}const NT=new Map,xU={activated:!1,tokenObservers:[]},xie={initialized:!1,enabled:!1};function zt(t){return NT.get(t)||Object.assign({},xU)}function cg(){return xie}class Oie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new wu,yield function Fie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new wu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const _n=new kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function NU(t){if(!zt(t).activated)throw _n.create("use-before-activation",{appName:t.name})}function PT(t,e){return OT.apply(this,arguments)}function OT(){return(OT=_(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(t,a)}catch(f){throw _n.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw _n.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw _n.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw _n.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function Bie(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const $l="firebase-app-check-store";let hg=null;function MU(){return hg||(hg=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(_n.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($l,{keyPath:"compositeKey"})}}catch(r){e(_n.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),hg)}function FT(){return(FT=_(function*(t,e){const r=(yield MU()).transaction($l,"readwrite"),s=r.objectStore($l).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(_n.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const jl=new Es("@firebase/app-check");function VT(t,e){return Is()?function Gie(t,e){return function PU(t,e){return FT.apply(this,arguments)}(function FU(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{jl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function LU(){return cg().enabled}function UU(){return $T.apply(this,arguments)}function $T(){return($T=_(function*(){const t=cg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yie={error:"UNKNOWN_ERROR"};function Xie(t){return jp.encodeString(JSON.stringify(t),!1)}function fg(t){return jT.apply(this,arguments)}function jT(){return(jT=_(function*(t,e=!1){const n=t.app;NU(n);const r=zt(n);let s,i=r.token;if(i&&!Du(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Du(u)?i=u:yield VT(n,void 0))}if(!e&&i&&Du(i))return{token:i.token};let a,o=!1;if(LU()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PT(Bie(n,yield UU()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield VT(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield zt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?jl.warn(u.message):jl.error(u),s=u}return i?s?a=Du(i)?{token:i.token,internalError:s}:$U(s):(a={token:i.token},r.token=i,yield VT(n,i)):a=$U(s),o&&BU(n,a),a})).apply(this,arguments)}function GT(t,e){const n=zt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function VU(t){const{app:e}=t,n=zt(e);let r=n.tokenRefresher;r||(r=function Jie(t){const{app:e}=t;return new Oie(_(function*(){let r;if(r=zt(e).token?yield fg(t,!0):yield fg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=zt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function BU(t,e){const n=zt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Du(t){return t.expireTimeMillis-Date.now()>0}function $U(t){return{token:Xie(Yie),error:t}}class Zie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=zt(this.app);for(const n of e)GT(this.app,n.next);return Promise.resolve()}}const QU="app-check-internal";!function fse(){It(new ht("app-check",t=>function ese(t,e){return new Zie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(QU).initialize()})),It(new ht(QU,t=>function tse(t){return{getToken:e=>fg(t,e),addTokenListener:e=>function HT(t,e,n,r){const{app:i}=t,s=zt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Du(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),VU(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>VU(t))}(t,"INTERNAL",e),removeTokenListener:e=>GT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),oe("@firebase/app-check","0.5.17")}();class Su{constructor(){return Jr("app-check")}}typeof window<"u"&&window;const yse=function XU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},JU=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ZU=new Es("@firebase/auth");function gg(t,...e){ZU.logLevel<=me.ERROR&&ZU.error(`Auth (${Ts}): ${t}`,...e)}function kn(t,...e){throw QT(t,...e)}function ti(t,...e){return QT(t,...e)}function eV(t,e,n){const r=Object.assign(Object.assign({},yse()),{[e]:n});return new kr("auth","Firebase",r).create(e,{appName:t.name})}function QT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JU.create(t,...e)}function S(t,e,...n){if(!t)throw QT(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gg(e),new Error(e)}function bs(t,e){t||ni(e)}const tV=new Map;function Gi(t){bs(t instanceof Function,"Expected a class definition");let e=tV.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tV.set(t,e),e)}function Hl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function nV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=RI()||dL()}get(){return function Ise(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function YT(){return"http:"===nV()||"https:"===nV()}()||NI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function XT(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class rV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bse=new Gl(3e4,6e4);function Et(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nt(t,e,n,r){return JT.apply(this,arguments)}function JT(){return(JT=_(function*(t,e,n,r,i={}){return iV(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ll(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),rV.fetch()(sV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function iV(t,e,n){return ZT.apply(this,arguments)}function ZT(){return(ZT=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tse),e);try{const i=new Cse(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Wl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Wl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Wl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Wl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw eV(t,l,c);kn(t,l)}}catch(i){if(i instanceof Kn)throw i;kn(t,"network-request-failed")}})).apply(this,arguments)}function Wi(t,e,n,r){return eb.apply(this,arguments)}function eb(){return(eb=_(function*(t,e,n,r,i={}){const s=yield Nt(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function sV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?XT(t.config,i):`${t.config.apiScheme}://${i}`}class Cse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),bse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function tb(){return(tb=_(function*(t,e){return Nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ase(t,e){return rb.apply(this,arguments)}function rb(){return(rb=_(function*(t,e){return Nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ib(){return(ib=_(function*(t,e=!1){const n=wt(t),r=yield n.getIdToken(e),i=mg(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:zl(sb(i.auth_time)),issuedAtTime:zl(sb(i.iat)),expirationTime:zl(sb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function sb(t){return 1e3*Number(t)}function mg(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return gg("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gp(r);return s?JSON.parse(s):(gg("Failed to decode base64 JWT payload"),null)}catch(s){return gg("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function zi(t,e){return ob.apply(this,arguments)}function ob(){return(ob=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Kn&&Nse(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function Nse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class kse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class oV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ql(t){return ab.apply(this,arguments)}function ab(){return(ab=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield zi(t,Ase(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Ose(s.providerUserInfo):[],a=Pse(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function ub(){return(ub=_(function*(t){const e=wt(t);yield ql(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Pse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ose(t){return t.map(e=>{var{providerId:n}=e,r=Yx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function cb(){return(cb=_(function*(t,e){const n=yield iV(t,{},_(function*(){const r=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Rse(t){const e=mg(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Fse(t,e){return cb.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Kl;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return ni("not implemented")}}function Cs(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Po{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield zi(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function xse(t){return ib.apply(this,arguments)}(this,e)}reload(){return function Mse(t){return ub.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ql(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield zi(e,function Dse(t,e){return tb.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:A,providerData:P,stsTokenManager:Ie}=n;S(y&&Ie,e,"internal-error");const Jt=Kl.fromJSON(this.name,Ie);S("string"==typeof y,e,"internal-error"),Cs(d,e.name),Cs(h,e.name),S("boolean"==typeof b,e,"internal-error"),S("boolean"==typeof A,e,"internal-error"),Cs(f,e.name),Cs(p,e.name),Cs(g,e.name),Cs(m,e.name),Cs(w,e.name),Cs(E,e.name);const Br=new Po({uid:y,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:A,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Jt,createdAt:w,lastLoginAt:E});return P&&Array.isArray(P)&&(Br.providerData=P.map(Ph=>Object.assign({},Ph))),m&&(Br._redirectEventId=m),Br}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Kl;i.updateFromServerResponse(n);const s=new Po({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ql(s),s})()}}const aV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function _g(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_g(this.userKey,i.apiKey,s),this.fullPersistenceKey=_g("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Po._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new xu(Gi(aV),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Gi(aV);const o=_g(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Po._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new xu(s,e,r)):new xu(s,e,r)})()}}function uV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fV(e))return"Blackberry";if(pV(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||lV(e))&&!e.includes("edge/"))return"Chrome";if(hV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function cV(t=Rt()){return/firefox\//i.test(t)}function lb(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lV(t=Rt()){return/crios\//i.test(t)}function dV(t=Rt()){return/iemobile/i.test(t)}function hV(t=Rt()){return/android/i.test(t)}function fV(t=Rt()){return/blackberry/i.test(t)}function pV(t=Rt()){return/webos/i.test(t)}function yg(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gV(t=Rt()){return yg(t)||hV(t)||pV(t)||fV(t)||/windows phone/i.test(t)||dV(t)}function mV(t,e=[]){let n;switch(t){case"Browser":n=uV(Rt());break;case"Worker":n=`${uV(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}class Bse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class $se{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _V(this),this.idTokenSubscription=new _V(this),this.beforeStateQueue=new Bse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JU,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield xu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){var r;try{yield ql(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ese(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?wt(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Gi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&Gi(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield xu.create(n,[Gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Mn(t){return wt(t)}class _V{constructor(e){this.auth=e,this.observer=null,this.addObserver=function gee(t,e){const n=new mee(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qi(t,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=_(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithIdp",Et(t,e))})).apply(this,arguments)}class Ds{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uoe extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const s=yield Po._fromIdTokenResponse(e,r,i),o=bV(r);return new pr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=bV(r);return new pr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function bV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Eg extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eg(e,n,r,i)}}function CV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Eg._fromErrorAndOperation(t,s,e,r):s})}function kb(t,e){return Mb.apply(this,arguments)}function Mb(){return(Mb=_(function*(t,e,n=!1){const r=yield zi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pr._forOperation(t,"link",r)})).apply(this,arguments)}function Ob(){return(Ob=_(function*(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=yield zi(t,CV(i,s,e,t),n);S(o.idToken,i,"internal-error");const a=mg(o.idToken);S(a,i,"internal-error");const{sub:u}=a;return S(t.uid===u,i,"user-mismatch"),pr._forOperation(t,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&kn(i,"user-mismatch"),o}})).apply(this,arguments)}function Fb(){return(Fb=_(function*(t,e,n=!1){const r="signIn",i=yield CV(t,r,e),s=yield pr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Cg="__sak";class RV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cg,"1"),this.storage.removeItem(Cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Noe=(()=>{class t extends RV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Aoe(){const t=Rt();return lb(t)||yg(t)}()&&function Vse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Use(){return function ree(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),NV=(()=>{class t extends RV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Moe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function koe(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function dC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Poe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=dC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Tt(){return window}function hC(){return typeof Tt().WorkerGlobalScope<"u"&&"function"==typeof Tt().importScripts}function fC(){return(fC=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kV="firebaseLocalStorageDb",Dg="firebaseLocalStorage",MV="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([Dg],e?"readwrite":"readonly").objectStore(Dg)}function pC(){const t=indexedDB.open(kV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dg,{keyPath:MV})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(Dg)?e(r):(r.close(),yield function Boe(){const t=indexedDB.deleteDatabase(kV);return new Jl(t).toPromise()}(),e(yield pC()))}))})}function PV(t,e,n){return gC.apply(this,arguments)}function gC(){return(gC=_(function*(t,e,n){const r=Sg(t,!0).put({[MV]:e,value:n});return new Jl(r).toPromise()})).apply(this,arguments)}function mC(){return(mC=_(function*(t,e){const n=Sg(t,!1).get(e),r=yield new Jl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function OV(t,e){const n=Sg(t,!0).delete(e);return new Jl(n).toPromise()}const Goe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield pC()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return hC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=Moe._getInstance(function Uoe(){return hC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function Foe(){return fC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Poe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function Loe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield pC();return yield PV(n,Cg,"1"),yield OV(n,Cg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>PV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(s=>function $oe(t,e){return mC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>OV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(o=>{const a=Sg(o,!1).getAll();return new Jl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function LV(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Fo(t,e){return e?Gi(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}LV("rcb"),new Gl(3e4,6e4);class DC extends class Wse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aae(t){return function AV(t,e){return Fb.apply(this,arguments)}(t.auth,new DC(t),t.bypassAuthState)}function uae(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function SV(t,e){return Ob.apply(this,arguments)}(n,new DC(t),t.bypassAuthState)}function cae(t){return SC.apply(this,arguments)}function SC(){return(SC=_(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),kb(n,new DC(t),t.bypassAuthState)})).apply(this,arguments)}new Gl(2e3,1e4);const Zl=new Map;class hae extends class lae{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aae;case"linkViaPopup":case"linkViaRedirect":return cae;case"reauthViaPopup":case"reauthViaRedirect":return uae;default:kn(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=Zl.get(n.auth._key());if(!r){try{const s=(yield function fae(t,e){return kC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Zl.set(n.auth._key(),r)}return n.bypassAuthState||Zl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function kC(){return(kC=_(function*(t,e){const n=BV(e),r=VV(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function pae(t,e){Zl.set(t._key(),e)}function VV(t){return Gi(t._redirectPersistence)}function BV(t){return _g("pendingRedirect",t.config.apiKey,t.name)}function $V(t,e){return VC.apply(this,arguments)}function VC(){return(VC=_(function*(t,e,n=!1){const r=Mn(t),i=Fo(r,e),o=yield new hae(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class vae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function wae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(HV(e))}saveEventToCache(e){this.cachedEventUids.add(HV(e)),this.lastProcessedEventTime=Date.now()}}function HV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Iae(t){return $C.apply(this,arguments)}function $C(){return($C=_(function*(t,e={}){return Nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Eae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tae=/^https?/;function jC(){return(jC=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Iae(t);for(const n of e)try{if(Cae(n))return}catch{}kn(t,"unauthorized-domain")})).apply(this,arguments)}function Cae(t){const e=Hl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Tae.test(n))return!1;if(Eae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dae=new Gl(3e4,6e4);function WV(){const t=Tt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let xg=null;function Aae(t){return xg=xg||function Sae(t){return new Promise((e,n)=>{var r,i,s;function o(){WV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WV(),n(ti(t,"network-request-failed"))},timeout:Dae.get()})}if(null!==(i=null===(r=Tt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Tt().gapi)||void 0===s||!s.load){const a=LV("iframefcb");return Tt()[a]=()=>{gapi.load?o():n(ti(t,"network-request-failed"))},function FV(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Koe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw xg=null,e})}(t),xg}const xae=new Gl(5e3,15e3),kae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pae(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XT(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=Mae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ll(r).slice(1)}`}function HC(){return HC=_(function*(t){const e=yield Aae(t),n=Tt().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:Pae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kae,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ti(t,"network-request-failed"),u=Tt().setTimeout(()=>{o(a)},xae.get());function c(){Tt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),HC.apply(this,arguments)}const Fae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qV(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof Ds){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof uoe){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Wae({config:t}){return t.emulator?XT(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Ll(a).slice(1)}`}const GC="webStorageSupport",qae=class zae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NV,this._completeRedirectFn=$V,this._overrideRedirectResult=pae}_openPopup(e,n,r,i){var s=this;return _(function*(){var o;bs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=qV(e,n,r,Hl(),i);return function $ae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Fae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Rt().toLowerCase();n&&(a=lV(c)?"_blank":n),cV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Lse(t=Rt()){var e;return yg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function jae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new zV(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new zV(d)}(e,a,dC())})()}_openRedirect(e,n,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function Ooe(t){Tt().location.href=t}(qV(e,n,r,Hl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(bs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function Oae(t){return HC.apply(this,arguments)}(e),i=new vae(e);return r.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(GC,{type:GC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[GC];void 0!==o&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function bae(t){return jC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gV()||lb()||yg()}};var QV="@firebase/auth",YV="0.20.11";class Kae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jae=fL("authIdTokenMaxAge")||300;let XV=null;const Zae=t=>function(){var e=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Jae)return;const s=r?.token;XV!==s&&(XV=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function eue(t=Yr()){const e=Rn(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function vse(t,e){const n=Rn(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Fl(n.getOptions(),e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:qae,persistence:[Goe,Noe,NV]}),r=fL("authTokenSyncURL");if(r){const s=Zae(r);(function Toe(t,e,n){wt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Eoe(t,e,n,r){wt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=hL("auth");return i&&function jse(t,e,n){const r=Mn(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=yV(e),{host:o,port:a}=function Hse(t){const e=yV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:vV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Gse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function tue(t){return new He(function(e){var n=function boe(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Yae(t){It(new ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{S(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),S(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mV(t)},l=new $se(a,u,c);return function wse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),It(new ht("auth-internal",e=>{const n=Mn(e.getProvider("auth").getImmediate());return new Kae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oe(QV,YV,function Qae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),oe(QV,YV,"esm2017")}("Browser");class Rg{constructor(e){return e}}class ed{constructor(){return Jr("auth")}}const WC=new V("angularfire2.auth-instances");function iue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Rg(r)}}const sue={provide:ed,deps:[[new he,WC]]},oue={provide:Rg,useFactory:function rue(t,e){const n=Xr("auth",t,e);return n&&new Rg(n)},deps:[[new he,WC],Jn]};let aue=(()=>{class t{constructor(){oe("angularfire",Yn.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[oue,sue]}),t})();function uue(t,...e){return{ngModule:aue,providers:[{provide:WC,useFactory:iue(t),multi:!0,deps:[ve,Ge,Zr,ei,[new he,Su],...e]}]}}const cue=Xn(tue,!0),lue=Xn(eue,!0);class td{constructor(e){return e}}const ZV="analytics",e2=ug.async,hue=Xn(rie,!0),fue=Xn(IU,!0),pue=Xn(oie,!0);let zC=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],oe("angularfire",Yn.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),e2().then(()=>{const o=i.get(td);o?this.disposables=[cue(n).subscribe(a=>{pue(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(F(Rg),F(ve),F(Ge))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const t2="firebase_screen_id",qC="outlet",nd="screen_class",n2="screen_name";let Due=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const KC={},Sue=t=>{const e=[t[nd],t[qC]].join("#");if(KC.hasOwnProperty(e))return KC[e];{const n=Due++;return KC[e]=n,n}},Aue=(t,e,n)=>t.events.pipe(Kr(i=>i instanceof vF)).pipe(hr(i=>{var s;const a=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",u=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!u)return B(null);let c=u;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[n2]:l,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:l,[qC]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=u.component;if(h){if(h===Rp){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return B(Object.assign(Object.assign({},d),{[nd]:h}));if(h){const f=n.resolveComponentFactory(h);return B(Object.assign(Object.assign({},d),{[nd]:f.selector}))}return B(null)}),Kr(i=>!!i),fe(i=>Object.assign({firebase_screen_class:i[nd],[t2]:Sue(i)},i)),function Cie(t,e,n,r){return tt((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,u=p=>{a.forEach(p),p(s)},c=p=>u(g=>g.error(p));let l=0,d=!1;const h=new Kx(s,p=>{try{const g=t(p);let m=a.get(g);if(!m){a.set(g,m=r?r():new _r);const w=function f(p,g){const m=new He(w=>{l++;const E=g.subscribe(w);return()=>{E.unsubscribe(),0==--l&&d&&h.unsubscribe()}});return m.key=p,m}(g,m);if(s.next(w),n){const E=nt(m,()=>{m.complete(),E?.unsubscribe()},void 0,void 0,()=>a.delete(g));h.add(yr(n(w)).subscribe(E))}}m.next(o?o(p):p)}catch(g){c(g)}},()=>u(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===l));i.subscribe(h)})}(i=>i[qC]),Dt(i=>i.pipe(function Die(t,e=ss){return t=t??Sie,tt((n,r)=>{let i,s=!0;n.subscribe(nt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}((s,o)=>JSON.stringify(s)===JSON.stringify(o)),YO(void 0),function Aie(){return tt((t,e)=>{let n,r=!1;t.subscribe(nt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),fe(([s,o])=>s?Object.assign({firebase_previous_class:s[nd],firebase_previous_screen:s[n2],firebase_previous_id:s[t2]},o):o))));let r2=(()=>{class t{constructor(n,r,i,s,o,a){oe("angularfire",Yn.full,"screen-tracking"),e2().then(()=>{const u=a.get(td);!n||!u||s.runOutsideAngular(()=>{this.disposable=Aue(n,r,i).pipe(hr(c=>Xx(this,void 0,void 0,function*(){return o&&(yield o.initialized),fue(u,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(F(xt,8),F(Qw,8),F($a),F(ve),F(zC,8),F(Ge))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const QC=new V("angularfire2.analytics-instances");function Rue(t){return(e,n)=>{if(!ug.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new td(r)}}const Nue={provide:class due{constructor(){return Jr(ZV)}},deps:[[new he,QC]]},kue={provide:td,useFactory:function xue(t,e){if(!ug.sync())return null;const n=Xr(ZV,t,e);return n&&new td(n)},deps:[[new he,QC],Jn]};let Mue=(()=>{class t{constructor(n,r){oe("angularfire",Yn.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(F(r2,8),F(zC,8))},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[kue,Nue,{provide:mo,useValue:ug.async,multi:!0}]}),t})();function Pue(t,...e){return{ngModule:Mue,providers:[{provide:QC,useFactory:Rue(t),multi:!0,deps:[ve,Ge,Zr,ei,...e]}]}}const i2="@firebase/database",s2="0.13.10";let YC="";class Fue{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Ol(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Lue{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const o2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Fue(e)}}catch{}return new Lue},Lo=o2("localStorage"),XC=o2("sessionStorage"),Ru=new Es("@firebase/database"),a2=function(){let t=1;return function(){return t++}}(),u2=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,R(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new pee;n.update(e);const r=n.digest();return jp.encodeByteArray(r)},rd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=rd.apply(null,r):e+="object"==typeof r?Ht(r):r,e+=" "}return e};let Uo=null,c2=!0;const kt=function(...t){if(!0===c2&&(c2=!1,null===Uo&&!0===XC.get("logging_enabled")&&function(t,e){R(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ru.logLevel=me.VERBOSE,Uo=Ru.log.bind(Ru),e&&XC.set("logging_enabled",!0)):"function"==typeof t?Uo=t:(Uo=null,XC.remove("logging_enabled"))}(!0)),Uo){const e=rd.apply(null,t);Uo(e)}},id=function(t){return function(...e){kt(t,...e)}},JC=function(...t){const e="FIREBASE INTERNAL ERROR: "+rd(...t);Ru.error(e)},ri=function(...t){const e=`FIREBASE FATAL ERROR: ${rd(...t)}`;throw Ru.error(e),new Error(e)},on=function(...t){const e="FIREBASE WARNING: "+rd(...t);Ru.warn(e)},Ng=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ki="[MIN_NAME]",ii="[MAX_NAME]",Vo=function(t,e){if(t===e)return 0;if(t===Ki||e===ii)return-1;if(e===Ki||t===ii)return 1;{const n=kg(t),r=kg(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Bue=function(t,e){return t===e?0:t<e?-1:1},sd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ht(e))},ZC=function(t){if("object"!=typeof t||null===t)return Ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ht(e[r]),n+=":",n+=ZC(t[e[r]]);return n+="}",n},d2=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const h2=function(t){R(!Ng(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Gue=new RegExp("^-?(0*)\\d{1,10}$"),kg=function(t){if(Gue.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Nu=function(t){try{t()}catch(e){setTimeout(()=>{throw on("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},od=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class zue{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){on(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class que{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',on(e)}}let ad=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const y2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I2="websocket",E2="long_polling";class nD{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T2(t,e,n){let r;if(R("string"==typeof e,"typeof type must == string"),R("object"==typeof n,"typeof params must == object"),e===I2)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==E2)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Kue(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Mt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Que{constructor(){this.counters_={}}incrementCounter(e,n=1){Li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eee(this.counters_)}}const rD={},iD={};function sD(t){const e=t.toString();return rD[e]||(rD[e]=new Que),rD[e]}class Xue{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Nu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ss{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=id(e),this.stats_=sD(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),T2(n,E2,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xue(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oD((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&y2.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ss.forceAllow_=!0}static forceDisallow(){Ss.forceDisallow_=!0}static isAvailable(){return!(!Ss.forceAllow_&&(Ss.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=cL(n),i=d2(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oD{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=a2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=oD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){kt("frame writing exception"),a.stack&&kt(a.stack),kt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||kt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Pg=null;typeof MozWebSocket<"u"?Pg=MozWebSocket:typeof WebSocket<"u"&&(Pg=WebSocket);let ku=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=id(this.connId),this.stats_=sD(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&y2.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),T2(n,I2,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lo.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Pg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Pg&&!t.forceDisallow_}static previouslyFailed(){return Lo.isInMemoryStorage||!0===Lo.get("previous_websocket_failure")}markConnectionHealthy(){Lo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Ol(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(R(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ht(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=d2(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),R2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ss,ku]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ku&&ku.isAvailable();let i=r&&!ku.previouslyFailed();if(n.webSocketOnly&&(r||on("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ku];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class L2{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=id("c:"+this.id+":"),this.transportManager_=new R2(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=od(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=sd("t",e),r=sd("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=sd("t",e),r=sd("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=sd("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?JC("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):JC("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&on("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),od(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):od(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class U2{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class V2{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){R(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Og extends V2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!RI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Og}getInitialEvent(e){return R("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ce{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Ce("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function As(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function uD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ud(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function j2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function Be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ce(n,0)}function ue(t){return t.pieceNum_>=t.pieces_.length}function yn(t,e){const n=ae(t),r=ae(e);if(null===n)return e;if(n===r)return yn(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cD(t,e){if(As(t)!==As(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(As(t)>As(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class wce{constructor(e,n){this.errorPrefix_=n,this.parts_=ud(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yp(this.parts_[r]);H2(this)}}function H2(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bo(t))}function Bo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class lD extends V2{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new lD}getInitialEvent(e){return R("visible"===e,"Unknown event type: "+e),[this.visible_]}}const cd=1e3;let Lg,$o=(()=>{class t extends U2{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=id("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lD.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Og.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ht(o)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new wu,i={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),R(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Li(n,"w")){const i=Iu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();on(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=qp(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=qp(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),R(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ht(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):JC("Unrecognized action received from server: "+Ht(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){R(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?kt("getToken() completed but was canceled"):(kt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new L2(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{on(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&on(f),l())}}})()}interrupt(n){kt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){kt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],PI(this.interruptReasons_)&&(this.reconnectDelay_=cd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>ZC(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Ce(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){kt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){kt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+YC.replace(/\./g,"-")]=1,RI()?n["framework.cordova"]=1:dL()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Og.getInstance().currentlyOnline();return PI(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}class Fg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new le(Ki,e),i=new le(Ki,n);return 0!==this.compare(r,i)}minPost(){return le.MIN}}class z2 extends Fg{static get __EMPTY_NODE(){return Lg}static set __EMPTY_NODE(e){Lg=e}compare(e,n){return Vo(e.name,n.name)}isDefinedOn(e){throw yu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(ii,Lg)}makePost(e,n){return R("string"==typeof e,"KeyIndex indexValue must always be a string."),new le(e,Lg)}toString(){return".key"}}const si=new z2;class Ug{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let hD,Mr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Pn.EMPTY_NODE,this.right=o??Pn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Pn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Pn{constructor(e,n=Pn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Pn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ug(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ug(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ug(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ug(this.root_,null,this.comparator_,!0,e)}}function Ace(t,e){return Vo(t.name,e.name)}function dD(t,e){return Vo(t,e)}Pn.EMPTY_NODE=new class Sce{copy(e,n,r,i,s){return this}insert(e,n,r){return new Mr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const q2=function(t){return"number"==typeof t?"number:"+h2(t):"string:"+t},K2=function(t){if(t.isLeafNode()){const e=t.val();R("string"==typeof e||"number"==typeof e||"object"==typeof e&&Li(e,".sv"),"Priority must be a string or number.")}else R(t===hD||t.isEmpty(),"priority of unexpected type.");R(t===hD||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Q2,Y2,X2,Mu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,R(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),K2(this.priorityNode_)}static set __childrenNodeConstructor(n){Q2=n}static get __childrenNodeConstructor(){return Q2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ue(n)?this:".priority"===ae(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ae(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(R(".priority"!==i||1===As(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+q2(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?h2(this.value_):this.value_,this.lazyHash_=u2(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(R(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return R(s>=0,"Unknown leaf type: "+r),R(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Oe=new class kce extends Fg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Vo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(ii,new Mu("[PRIORITY-POST]",X2))}makePost(e,n){const r=Y2(e);return new le(n,new Mu("[PRIORITY-POST]",r))}toString(){return".priority"}},Mce=Math.log(2);class Pce{constructor(e){this.count=parseInt(Math.log(e+1)/Mce,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vg=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Mr(h,d.node,Mr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Mr(h,d.node,Mr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const m=d-p,w=d;d-=p;const E=i(m+1,w),y=t[m],b=n?n(y):y;f(new Mr(b,y.node,g,null,E))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),m=Math.pow(2,u.count-(p+1));g?h(m,Mr.BLACK):(h(m,Mr.BLACK),h(m,Mr.RED))}return l}(new Pce(t.length));return new Pn(r||e,a)};let fD;const Pu={};class Qi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return R(Pu&&Oe,"ChildrenNode.ts has not been loaded"),fD=fD||new Qi({".priority":Pu},{".priority":Oe}),fD}get(e){const n=Iu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pn?n:null}hasIndex(e){return Li(this.indexSet_,e.toString())}addIndex(e,n){R(e!==si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(le.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Vg(r,e.getCompare()):Pu;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new Qi(l,c)}addToIndexes(e,n){const r=Kp(this.indexes_,(i,s)=>{const o=Iu(this.indexSet_,s);if(R(o,"Missing index implementation for "+s),i===Pu){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(le.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Vg(a,o.getCompare())}return Pu}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new le(e.name,a))),u.insert(e,e.node)}});return new Qi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Kp(this.indexes_,i=>{if(i===Pu)return i;{const s=n.get(e.name);return s?i.remove(new le(e.name,s)):i}});return new Qi(r,this.indexSet_)}}let ld,ee=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&K2(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ld||(ld=new t(new Pn(dD),null,Qi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ld}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?ld:r}}getChild(n){const r=ae(n);return null===r?this:this.getImmediateChild(r).getChild(Re(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(R(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new le(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?ld:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=ae(n);if(null===i)return r;{R(".priority"!==ae(n)||1===As(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Re(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Oe,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+q2(this.getPriority().val())+":"),this.forEachChild(Oe,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":u2(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new le(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new le(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new le(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,le.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,le.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===dd?-1:0}withIndex(n){if(n===si||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===si||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Oe),s=r.getIterator(Oe);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===si?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const dd=new class Oce extends ee{constructor(){super(new Pn(dD),ee.EMPTY_NODE,Qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}};function ze(t,e=null){if(null===t)return ee.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),R(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Mu(t,ze(e));if(t instanceof Array){let n=ee.EMPTY_NODE;return Mt(t,(r,i)=>{if(Li(t,r)&&"."!==r.substring(0,1)){const s=ze(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ze(e))}{const n=[];let r=!1;if(Mt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=ze(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new le(o,u)))}}),0===n.length)return ee.EMPTY_NODE;const s=Vg(n,Ace,o=>o.name,dD);if(r){const o=Vg(n,Oe.getCompare());return new ee(s,ze(e),new Qi({".priority":o},{".priority":Oe}))}return new ee(s,ze(e),Qi.Default)}}Object.defineProperties(le,{MIN:{value:new le(Ki,ee.EMPTY_NODE)},MAX:{value:new le(ii,dd)}}),z2.__EMPTY_NODE=ee.EMPTY_NODE,Mu.__childrenNodeConstructor=ee,function xce(t){hD=t}(dd),function Nce(t){X2=t}(dd),function Rce(t){Y2=t}(ze);class pD extends Fg{constructor(e){super(),this.indexPath_=e,R(!ue(e)&&".priority"!==ae(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Vo(e.name,n.name):s}makePost(e,n){const r=ze(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(n,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,dd);return new le(ii,e)}toString(){return ud(this.indexPath_,0).join("/")}}const gD=new class Lce extends Fg{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Vo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const r=ze(e);return new le(n,r)}toString(){return".value"}};function fd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class yD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ki}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ii}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new yD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function rB(t){const e={};if(t.isDefault())return e;let n;return t.index_===Oe?n="$priority":t.index_===gD?n="$value":t.index_===si?n="$key":(R(t.index_ instanceof pD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ht(n),t.startSet_&&(e.startAt=Ht(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Ht(t.indexStartName_))),t.endSet_&&(e.endAt=Ht(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Ht(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function iB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}class $g extends U2{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=id("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=$g.getListenId_(e,r),a={};this.listens_[o]=a;const u=rB(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Iu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=$g.getListenId_(e,n);delete this.listens_[r]}get(e){const n=rB(e._queryParams),r=e._path.toString(),i=new wu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ll(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=Ol(a.responseText)}catch{on("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&on("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class zce{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function jg(){return{value:null,children:new Map}}function Lu(t,e,n){if(ue(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,jg()),Lu(t.children.get(r),e=Re(e),n)}}function ED(t,e,n){null!==t.value?n(e,t.value):function qce(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{ED(i,new Ce(e.toString()+"/"+r),n)})}class Kce{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Xce{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Kce(e);const r=1e4+2e4*Math.random();od(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Mt(e,(i,s)=>{s>0&&Li(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),od(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mr=(()=>{return(t=mr||(mr={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",mr;var t})();function CD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Hg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ue(this.path)){if(null!=this.affectedTree.value)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new Hg(we(),n,this.revert)}}return R(ae(this.path)===e,"operationForChild called for unrelated child."),new Hg(Re(this.path),this.affectedTree,this.revert)}}class jo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mr.OVERWRITE}operationForChild(e){return ue(this.path)?new jo(this.source,we(),this.snap.getImmediateChild(e)):new jo(this.source,Re(this.path),this.snap)}}class Uu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mr.MERGE}operationForChild(e){if(ue(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new jo(this.source,we(),n.value):new Uu(this.source,we(),n)}return R(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uu(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function md(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function tle(t,e,n){if(null==e.childName||null==n.childName)throw yu("Should only compare child_ events.");const r=new le(e.childName,e.snapshotNode),i=new le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function ele(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function Gg(t,e){return{eventCache:t,serverCache:e}}function _d(t,e,n,r){return Gg(new xs(e,n,r),t.serverCache)}function oB(t,e,n,r){return Gg(t.eventCache,new xs(e,n,r))}function Wg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ho(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let DD;class Fe{constructor(e,n=(()=>(DD||(DD=new Pn(Bue)),DD))()){this.value=e,this.children=n}static fromObject(e){let n=new Fe(null);return Mt(e,(r,i)=>{n=n.set(new Ce(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:we(),value:this.value};if(ue(e))return null;{const r=ae(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Re(e),n);return null!=s?{path:Be(new Ce(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const n=ae(e),r=this.children.get(n);return null!==r?r.subtree(Re(e)):new Fe(null)}}set(e,n){if(ue(e))return new Fe(n,this.children);{const r=ae(e),s=(this.children.get(r)||new Fe(null)).set(Re(e),n),o=this.children.insert(r,s);return new Fe(this.value,o)}}remove(e){if(ue(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const i=r.remove(Re(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Fe(null):new Fe(this.value,s)}return this}}get(e){if(ue(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(Re(e)):null}}setTree(e,n){if(ue(e))return n;{const r=ae(e),s=(this.children.get(r)||new Fe(null)).setTree(Re(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Fe(this.value,o)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(ue(e))return null;{const s=ae(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),Be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,r){if(ue(e))return this;{this.value&&r(n,this.value);const i=ae(e),s=this.children.get(i);return s?s.foreachOnPath_(Re(e),Be(n,i),r):new Fe(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Pr{constructor(e){this.writeTree_=e}static empty(){return new Pr(new Fe(null))}}function yd(t,e,n){if(ue(e))return new Pr(new Fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=yn(i,e);return s=s.updateChild(o,n),new Pr(t.writeTree_.set(i,s))}{const i=new Fe(n),s=t.writeTree_.setTree(e,i);return new Pr(s)}}}function SD(t,e,n){let r=t;return Mt(n,(i,s)=>{r=yd(r,Be(e,i),s)}),r}function aB(t,e){if(ue(e))return Pr.empty();{const n=t.writeTree_.setTree(e,new Fe(null));return new Pr(n)}}function AD(t,e){return null!=Go(t,e)}function Go(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(yn(n.path,e)):null}function uB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Oe,(r,i)=>{e.push(new le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new le(r,i.value))}),e}function Rs(t,e){if(ue(e))return t;{const n=Go(t,e);return new Pr(null!=n?new Fe(n):t.writeTree_.subtree(e))}}function xD(t){return t.writeTree_.isEmpty()}function Vu(t,e){return cB(we(),t.writeTree_,e)}function cB(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(R(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=cB(Be(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Be(t,".priority"),r)),n}}function zg(t,e){return pB(e,t)}function ale(t,e){if(t.snap)return gr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gr(Be(t.path,n),e))return!0;return!1}function cle(t){return t.visible}function lB(t,e,n){let r=Pr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)gr(n,o)?(a=yn(n,o),r=yd(r,a,s.snap)):gr(o,n)&&(a=yn(o,n),r=yd(r,we(),s.snap.getChild(a)));else{if(!s.children)throw yu("WriteRecord should have .snap or .children");if(gr(n,o))a=yn(n,o),r=SD(r,a,s.children);else if(gr(o,n))if(a=yn(o,n),ue(a))r=SD(r,we(),s.children);else{const u=Iu(s.children,ae(a));if(u){const c=u.getChild(Re(a));r=yd(r,we(),c)}}}}}return r}function dB(t,e,n,r,i){if(r||i){const s=Rs(t.visibleWrites,e);return!i&&xD(s)?n:i||null!=n||AD(s,we())?Vu(lB(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(gr(c.path,e)||gr(e,c.path))},e),n||ee.EMPTY_NODE):null}{const s=Go(t.visibleWrites,e);if(null!=s)return s;{const o=Rs(t.visibleWrites,e);return xD(o)?n:null!=n||AD(o,we())?Vu(o,n||ee.EMPTY_NODE):null}}}function qg(t,e,n,r){return dB(t.writeTree,t.treePath,e,n,r)}function RD(t,e){return function lle(t,e,n){let r=ee.EMPTY_NODE;const i=Go(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Rs(t.visibleWrites,e);return n.forEachChild(Oe,(o,a)=>{const u=Vu(Rs(s,new Ce(o)),a);r=r.updateImmediateChild(o,u)}),uB(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return uB(Rs(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function hB(t,e,n,r){return function dle(t,e,n,r,i){R(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Be(e,n);if(AD(t.visibleWrites,s))return null;{const o=Rs(t.visibleWrites,s);return xD(o)?i.getChild(n):Vu(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Kg(t,e){return function fle(t,e){return Go(t.visibleWrites,e)}(t.writeTree,Be(t.treePath,e))}function ND(t,e,n){return function hle(t,e,n,r){const i=Be(e,n),s=Go(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Vu(Rs(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function fB(t,e){return pB(Be(t.treePath,e),t.writeTree)}function pB(t,e){return{treePath:t,writeTree:e}}class _le{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;R("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),R(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,fd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function hd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Fu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw yu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,fd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const gB=new class yle{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class kD{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new xs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ND(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ho(this.viewCache_),s=function mle(t,e,n,r,i,s){return function ple(t,e,n,r,i,s,o){let a;const u=Rs(t.visibleWrites,e),c=Go(u,we());if(null!=c)a=c;else{if(null==n)return[];a=Vu(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function mB(t,e,n,r,i,s){const o=e.eventCache;if(null!=Kg(r,n))return e;{let a,u;if(ue(n))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ho(e),d=RD(r,c instanceof ee?c:ee.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=qg(r,Ho(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ae(n);if(".priority"===c){R(1===As(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=hB(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Re(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=hB(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=ND(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return _d(e,a,o.isFullyInitialized()||ue(n),t.filter.filtersNodes())}}function Qg(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(ue(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=ae(n);if(!u.isCompleteForPath(n)&&As(n)>1)return e;const p=Re(n),m=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),m):l.updateChild(u.getNode(),f,m,p,gB,null)}const d=oB(e,c,u.isFullyInitialized()||ue(n),l.filtersNodes());return mB(t,d,n,i,new kD(i,d,s),a)}function MD(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new kD(i,e,s);if(ue(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=_d(e,c,!0,t.filter.filtersNodes());else{const d=ae(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=_d(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Re(n),f=a.getNode().getImmediateChild(d);let p;if(ue(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===uD(h)&&g.getChild(j2(h)).isEmpty()?g:g.updateChild(h,r):ee.EMPTY_NODE}u=f.equals(p)?e:_d(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function _B(t,e){return t.eventCache.isCompleteForChild(e)}function yB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function PD(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=ue(n)?r:new Fe(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=yB(0,e.serverCache.getNode().getImmediateChild(d),h);u=Qg(t,u,new Ce(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=yB(0,e.serverCache.getNode().getImmediateChild(d),h);u=Qg(t,u,new Ce(d),g,i,s,o,a)}}),u}function Rle(t,e){const n=Ho(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ue(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function IB(t,e,n,r){e.type===mr.MERGE&&null!==e.source.queryId&&(R(Ho(t.viewCache_),"We should always have a full cache before handling merges"),R(Wg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function Ile(t,e,n,r,i){const s=new _le;let o,a;if(n.type===mr.OVERWRITE){const c=n;c.source.fromUser?o=MD(t,e,c.path,c.snap,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ue(c.path),o=Qg(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===mr.MERGE){const c=n;c.source.fromUser?o=function Tle(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=Be(n,u);_B(e,ae(l))&&(a=MD(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=Be(n,u);_B(e,ae(l))||(a=MD(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=PD(t,e,c.path,c.children,r,i,a,s))}else if(n.type===mr.ACK_USER_WRITE){const c=n;o=c.revert?function Dle(t,e,n,r,i,s){let o;if(null!=Kg(r,n))return e;{const a=new kD(r,e,i),u=e.eventCache.getNode();let c;if(ue(n)||".priority"===ae(n)){let l;if(e.serverCache.isFullyInitialized())l=qg(r,Ho(e));else{const d=e.serverCache.getNode();R(d instanceof ee,"serverChildren would be complete if leaf node"),l=RD(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=ae(n);let d=ND(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Re(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,ee.EMPTY_NODE,Re(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=qg(r,Ho(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Kg(r,we()),_d(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function ble(t,e,n,r,i,s,o){if(null!=Kg(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ue(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Qg(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ue(n)){let c=new Fe(null);return u.getNode().forEachChild(si,(l,d)=>{c=c.set(new Ce(l),d)}),PD(t,e,n,c,i,s,a,o)}return e}{let c=new Fe(null);return r.foreach((l,d)=>{const h=Be(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),PD(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==mr.LISTEN_COMPLETE)throw yu("Unknown operation type: "+n.type);o=function Cle(t,e,n,r,i){const s=e.serverCache;return mB(t,oB(e,s.getNode(),s.isFullyInitialized()||ue(n),s.isFiltered()),n,r,gB,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function Ele(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function nB(t){return{type:"value",snapshotNode:t}}(Wg(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function wle(t,e){R(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),R(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function EB(t,e,n,r){return function Zce(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Vce(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),md(t,i,"child_removed",e,r,n),md(t,i,"child_added",e,r,n),md(t,i,"child_moved",s,r,n),md(t,i,"child_changed",e,r,n),md(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let Yg,Jg;function OD(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return R(null!=s,"SyncTree gave us an op for an invalid query."),IB(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(IB(o,e,n,r));return s}}function Ns(t,e){let n=null;for(const r of t.views.values())n=n||Rle(r,e);return n}class AB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=function gle(){return{visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FD(t,e,n,r,i){return function rle(t,e,n,r,i){R(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=yd(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Bu(t,new jo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Ms(t,e,n=!1){const r=function sle(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function ole(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);R(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&ale(a,r.path)?i=!1:gr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function ule(t){t.visibleWrites=lB(t.allWrites,cle,we()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=aB(t.visibleWrites,r.path):Mt(r.children,u=>{t.visibleWrites=aB(t.visibleWrites,Be(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new Fe(null);return null!=r.snap?s=s.set(we(),!0):Mt(r.children,o=>{s=s.set(new Ce(o),!0)}),Bu(t,new Hg(r.path,s,n))}return[]}function vd(t,e,n){return Bu(t,new jo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function em(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ns(a,yn(o,e));if(c)return c});return dB(i,e,s,n,!0)}function Bu(t,e){return RB(e,t.syncPointTree_,null,zg(t.pendingWriteTree_,we()))}function RB(t,e,n,r){if(ue(t.path))return NB(t,e,n,r);{const i=e.get(we());null==n&&null!=i&&(n=Ns(i,we()));let s=[];const o=ae(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=fB(r,o);s=s.concat(RB(a,u,c,l))}return i&&(s=s.concat(OD(i,t,r,n))),s}}function NB(t,e,n,r){const i=e.get(we());null==n&&null!=i&&(n=Ns(i,we()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=fB(r,o),l=t.operationForChild(o);l&&(s=s.concat(NB(l,a,u,c)))}),i&&(s=s.concat(OD(i,t,r,n))),s}function UD(t,e){return t.tagToQueryMap.get(e)}function VD(t){const e=t.indexOf("$");return R(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function BD(t,e,n){const r=t.syncPointTree_.get(e);return R(r,"Missing sync point for query tag that we're tracking"),OD(r,n,zg(t.pendingWriteTree_,e),null)}class $D{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $D(n)}node(){return this.node_}}class jD{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Be(this.path_,e);return new jD(this.syncTree_,n)}node(){return em(this.syncTree_,this.path_)}}const MB=function(t,e,n){return t&&"object"==typeof t?(R(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Jle(t[".sv"],e,n):"object"==typeof t[".sv"]?Zle(t[".sv"],e):void R(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Jle=function(t,e,n){if("timestamp"===t)return n.timestamp;R(!1,"Unexpected server value: "+t)},Zle=function(t,e,n){t.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&R(!1,"Unexpected increment value: "+r);const i=e.node();if(R(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},HD=function(t,e,n){return GD(t,new $D(e),n)};function GD(t,e,n){const r=t.getPriority().val(),i=MB(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=MB(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Mu(a,ze(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Mu(i))),o.forEachChild(Oe,(a,u)=>{const c=GD(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class WD{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function nm(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,i=ae(n);for(;null!==i;){const s=Iu(r.node.children,i)||{children:{},childCount:0};r=new WD(i,r,s),n=Re(n),i=ae(n)}return r}function Wo(t){return t.node.value}function zD(t,e){t.node.value=e,qD(t)}function OB(t){return t.node.childCount>0}function rm(t,e){Mt(t.node.children,(n,r)=>{e(new WD(n,t,r))})}function FB(t,e,n,r){n&&!r&&e(t),rm(t,i=>{FB(i,e,!0,r)}),n&&r&&e(t)}function Ed(t){return new Ce(null===t.parent?t.name:Ed(t.parent)+"/"+t.name)}function qD(t){null!==t.parent&&function nde(t,e,n){const r=function ede(t){return void 0===Wo(t)&&!OB(t)}(n),i=Li(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qD(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qD(t))}(t.parent,t.name,t)}const rde=/[\[\].#$\/\u0000-\u001F\u007F]/,ide=/[\[\].#$\u0000-\u001F\u007F]/,KD=10485760,im=function(t){return"string"==typeof t&&0!==t.length&&!rde.test(t)},bd=function(t,e,n){const r=n instanceof Ce?new wce(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Bo(r));if("function"==typeof e)throw new Error(t+"contains a function "+Bo(r)+" with contents = "+e.toString());if(Ng(e))throw new Error(t+"contains "+e.toString()+" "+Bo(r));if("string"==typeof e&&e.length>KD/3&&Yp(e)>KD)throw new Error(t+"contains a string greater than "+KD+" utf8 bytes "+Bo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Mt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!im(o)))throw new Error(t+" contains an invalid key ("+o+") "+Bo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ice(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yp(e),H2(t)})(r,o),bd(t,a,r),function Ece(t){const e=t.parts_.pop();t.byteLength_-=Yp(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bo(r)+" in addition to actual children.")}},VB=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!im(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!ide.test(t)}(t)}(n))throw new Error(function Qp(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ude{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zn(t,e,n){(function sm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!cD(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function $B(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(cde(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>gr(r,e)||gr(e,r))}function cde(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Uo&&kt("event: "+n.toString()),Nu(r)}}}class dde{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ude,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jg(),this.transactionQueueTree_=new WD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HB(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Dd(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:HB(t)})}function GB(t,e,n,r,i){t.dataUpdateCount++;const s=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Kp(n,c=>ze(c));o=function Wle(t,e,n,r){const i=UD(t,r);if(i){const s=VD(i),o=s.path,a=s.queryId,u=yn(o,e),c=Fe.fromObject(n);return BD(t,o,new Uu(CD(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=ze(n);o=function xB(t,e,n,r){const i=UD(t,r);if(null!=i){const s=VD(i),o=s.path,a=s.queryId,u=yn(o,e);return BD(t,o,new jo(CD(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=Kp(n,c=>ze(c));o=function jle(t,e,n){const r=Fe.fromObject(n);return Bu(t,new Uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=ze(n);o=vd(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=ju(t,s)),Zn(t.eventQueue_,a,o)}function WB(t,e){XD(t,"connected",e),!1===e&&function mde(t){$u(t,"onDisconnectEvents");const e=Dd(t),n=jg();ED(t.onDisconnect_,we(),(i,s)=>{const o=function(t,e,n,r){return GD(e,new jD(n,t),r)}(i,s,t.serverSyncTree_,e);Lu(n,i,o)});let r=[];ED(n,we(),(i,s)=>{r=r.concat(vd(t.serverSyncTree_,i,s));const o=function t0(t,e){const n=Ed(KB(t,e)),r=nm(t.transactionQueueTree_,e);return function tde(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{n0(t,i)}),n0(t,r),FB(r,i=>{n0(t,i)}),n}(t,i);ju(t,o)}),t.onDisconnect_=jg(),Zn(t.eventQueue_,we(),r)}(t)}function XD(t,e,n){const r=new Ce("/.info/"+e),i=ze(n);t.infoData_.updateSnapshot(r,i);const s=vd(t.infoSyncTree_,r,i);Zn(t.eventQueue_,r,s)}function om(t){return t.nextWriteId_++}function $u(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),kt(n,...e)}function e0(t,e,n){return em(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function am(t,e=t.transactionQueueTree_){if(e||um(t,e),Wo(e)){const n=QB(t,e);R(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Tde(t,e,n){const r=n.map(c=>c.currentWriteId),i=e0(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];R(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=yn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{$u(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Ms(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();um(t,nm(t.transactionQueueTree_,e)),am(t,t.transactionQueueTree_),Zn(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)Nu(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{on("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ju(t,e)}},o)}(t,Ed(e),n)}else OB(e)&&rm(e,n=>{am(t,n)})}function ju(t,e){const n=KB(t,e),r=Ed(n);return function bde(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=yn(n,u.path);let d,l=!1;if(R(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(Ms(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,d="maxretry",i=i.concat(Ms(t.serverSyncTree_,u.currentWriteId,!0));else{const h=e0(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){bd("transaction failed: Data returned ",f,u.path);let p=ze(f);"object"==typeof f&&null!=f&&Li(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=u.currentWriteId,w=Dd(t),E=HD(p,h,w);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=E,u.currentWriteId=om(t),o.splice(o.indexOf(m),1),i=i.concat(FD(t.serverSyncTree_,u.path,E,u.currentWriteId,u.applyLocally)),i=i.concat(Ms(t.serverSyncTree_,m,!0))}else l=!0,d="nodata",i=i.concat(Ms(t.serverSyncTree_,u.currentWriteId,!0))}Zn(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}um(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Nu(r[a]);am(t,t.transactionQueueTree_)}(t,QB(t,n),r),r}function KB(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);null!==n&&void 0===Wo(r);)r=nm(r,n),n=ae(e=Re(e));return r}function QB(t,e){const n=[];return YB(t,e,n),n.sort((r,i)=>r.order-i.order),n}function YB(t,e,n){const r=Wo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rm(e,i=>{YB(t,i,n)})}function um(t,e){const n=Wo(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,zD(e,n.length>0?n:void 0)}rm(e,r=>{um(t,r)})}function n0(t,e){const n=Wo(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(R(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(R(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ms(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?zD(e,void 0):n.length=s+1,Zn(t.eventQueue_,Ed(e),i);for(let o=0;o<r.length;o++)Nu(r[o])}}const r0=function(t,e){const n=Sde(t),r=n.namespace;return"firebase.com"===n.domain&&ri(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&on("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nD(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},Sde=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function Cde(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function Dde(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):on(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class er{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:uD(this._path)}get ref(){return new Or(this._repo,this._path)}get _queryIdentifier(){const e=iB(this._queryParams),n=ZC(e);return"{}"===n?"default":n}get _queryObject(){return iB(this._queryParams)}isEqual(e){if(!((e=wt(e))instanceof er))return!1;const n=this._repo===e._repo,r=cD(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yce(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Or extends er{constructor(e,n){super(e,n,new yD,!1)}get parent(){const e=j2(this._path);return null===e?null:new Or(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Mle(t){R(!Yg,"__referenceConstructor has already been defined"),Yg=t})(Or),function Ule(t){R(!Jg,"__referenceConstructor has already been defined"),Jg=t}(Or);const o0={};class zde{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hde(t,e,n){if(t.stats_=sD(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new $g(t.repoInfo_,(r,i,s,o)=>{GB(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>WB(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $o(t.repoInfo_,e,(r,i,s,o)=>{GB(t,r,i,s,o)},r=>{WB(t,r)},r=>{!function fde(t,e){Mt(e,(n,r)=>{XD(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Yue(t,e){const n=t.toString();return iD[n]||(iD[n]=e()),iD[n]}(t.repoInfo_,()=>new Xce(t.stats_,t.server_)),t.infoData_=new zce,t.infoSyncTree_=new AB({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=vd(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),XD(t,"connected",!1),t.serverSyncTree_=new AB({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);Zn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Or(this._repo,we())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Hde(t,e){const n=o0[e];(!n||n[t.key]!==t)&&ri(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function qB(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ri("Cannot call "+e+" on a deleted database.")}}function qde(t=Yr(),e){const n=Rn(t,"database").getImmediate({identifier:e}),r=zp("database");return r&&function Kde(t,e,n,r={}){(t=wt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&ri("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ad(ad.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:MI(r.mockUserToken,t.app.options.projectId);s=new ad(o)}!function $de(t,e,n,r){t.repoInfo_=new nD(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r),n}$o.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$o.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Qde(t){(function Oue(t){YC=t})(Ts),It(new ht("database",(e,{instanceIdentifier:n})=>function jde(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=r0(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=r0(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new ad(ad.OWNER):new que(t.name,t.options,e);VB("Invalid Firebase Database URL",o),ue(o.path)||ri("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Gde(t,e,n,r){let i=o0[e.name];i||(i={},o0[e.name]=i);let s=i[t.toURLString()];return s&&ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new dde(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new zue(t.name,n));return new zde(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),oe(i2,s2,t),oe(i2,s2,"esm2017")}();class a0{constructor(e){return e}}const i$="database",u0=new V("angularfire2.database-instances");function ehe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new a0(r)}}const the={provide:class Jde{constructor(){return Jr(i$)}},deps:[[new he,u0]]},nhe={provide:a0,useFactory:function Zde(t,e){const n=Xr(i$,t,e);return n&&new a0(n)},deps:[[new he,u0],Jn]};let rhe=(()=>{class t{constructor(){oe("angularfire",Yn.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[nhe,the]}),t})();function ihe(t,...e){return{ngModule:rhe,providers:[{provide:u0,useFactory:ehe(t),multi:!0,deps:[ve,Ge,Zr,ei,[new he,ed],[new he,Su],...e]}]}}const she=Xn(qde,!0);var U,ohe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yi={},c0=c0||{},Q=ohe||self;function hm(){}function fm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var l0="closure_uid_"+(1e9*Math.random()>>>0),uhe=0;function che(t,e,n){return t.call.apply(t.bind,arguments)}function lhe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?che:lhe).apply(null,arguments)}function pm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Fs(){this.s=this.s,this.o=this.o}Fs.prototype.s=!1,Fs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ahe(t){Object.prototype.hasOwnProperty.call(t,l0)&&t[l0]||(t[l0]=++uhe)}(this)},Fs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function d0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function o$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function un(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var hhe=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",hm,e),Q.removeEventListener("test",hm,e)}catch{}return t}();function gm(t){return/^[\s\xa0]*$/.test(t)}var a$=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function h0(t,e){return t<e?-1:t>e?1:0}function mm(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function ui(t){return-1!=mm().indexOf(t)}function f0(t){return f0[" "](t),t}f0[" "]=hm;var _m,t,phe=ui("Opera"),Gu=ui("Trident")||ui("MSIE"),u$=ui("Edge"),p0=u$||Gu,c$=ui("Gecko")&&!(-1!=mm().toLowerCase().indexOf("webkit")&&!ui("Edge"))&&!(ui("Trident")||ui("MSIE"))&&!ui("Edge"),ghe=-1!=mm().toLowerCase().indexOf("webkit")&&!ui("Edge");function l$(){var t=Q.document;return t?t.documentMode:void 0}e:{var g0="",m0=(t=mm(),c$?/rv:([^\);]+)(\)|;)/.exec(t):u$?/Edge\/([\d\.]+)/.exec(t):Gu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ghe?/WebKit\/(\S+)/.exec(t):phe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(m0&&(g0=m0?m0[1]:""),Gu){var _0=l$();if(null!=_0&&_0>parseFloat(g0)){_m=String(_0);break e}}_m=g0}var mhe={};var yhe=Q.document&&Gu&&(l$()||parseInt(_m,10))||void 0;function Rd(t,e){if(un.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(c$){e:{try{f0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vhe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rd.X.h.call(this)}}qt(Rd,un);var vhe={2:"touch",3:"pen",4:"mouse"};Rd.prototype.h=function(){Rd.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nd="closure_listenable_"+(1e6*Math.random()|0),whe=0;function Ihe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++whe,this.ba=this.ea=!1}function ym(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function v0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function h$(t){const e={};for(const n in t)e[n]=t[n];return e}const f$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<f$.length;s++)n=f$[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vm(t){this.src=t,this.g={},this.h=0}function w0(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=s$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ym(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function I0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}vm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=I0(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Ihe(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var E0="closure_lm_"+(1e6*Math.random()|0),T0={};function g$(t,e,n,r,i){if(r&&r.once)return _$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)g$(t,e[s],n,r,i);return null}return n=S0(n),t&&t[Nd]?t.N(e,n,xd(r)?!!r.capture:!!r,i):m$(t,e,n,!1,r,i)}function m$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xd(i)?!!i.capture:!!i,a=C0(t);if(a||(t[E0]=a=new vm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Ehe(){const e=The;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hhe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(v$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_$(t,e[s],n,r,i);return null}return n=S0(n),t&&t[Nd]?t.O(e,n,xd(r)?!!r.capture:!!r,i):m$(t,e,n,!0,r,i)}function y$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)y$(t,e[s],n,r,i);else r=xd(r)?!!r.capture:!!r,n=S0(n),t&&t[Nd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=I0(s=t.g[e],n,r,i))&&(ym(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=C0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=I0(e,n,r,i)),(n=-1<t?e[t]:null)&&b0(n))}function b0(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Nd])w0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=C0(e))?(w0(n,t),0==n.h&&(n.src=null,e[E0]=null)):ym(t)}}}function v$(t){return t in T0?T0[t]:T0[t]="on"+t}function The(t,e){if(t.ba)t=!0;else{e=new Rd(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&b0(t),t=n.call(r,e)}return t}function C0(t){return(t=t[E0])instanceof vm?t:null}var D0="__closure_events_fn_"+(1e9*Math.random()>>>0);function S0(t){return"function"==typeof t?t:(t[D0]||(t[D0]=function(e){return t.handleEvent(e)}),t[D0])}function Pt(){Fs.call(this),this.i=new vm(this),this.P=this,this.I=null}function Kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new un(e,t);else if(e instanceof un)e.target=e.target||t;else{var i=e;p$(e=new un(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wm(o,r,!0,e)&&i}if(i=wm(o=e.g=t,r,!0,e)&&i,i=wm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=wm(o=e.g=n[s],r,!1,e)&&i}function wm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&w0(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}qt(Pt,Fs),Pt.prototype[Nd]=!0,Pt.prototype.removeEventListener=function(t,e,n,r){y$(this,t,e,n,r)},Pt.prototype.M=function(){if(Pt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ym(n[r]);delete t.g[e],t.h--}}this.I=null},Pt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var A0=Q.JSON.stringify;function bhe(){var t=E$;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var x0,w$=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Dhe,t=>t.reset());class Dhe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function She(t){Q.setTimeout(()=>{throw t},0)}function I$(t,e){x0||function Ahe(){var t=Q.Promise.resolve(void 0);x0=function(){t.then(xhe)}}(),R0||(x0(),R0=!0),E$.add(t,e)}var R0=!1,E$=new class Che{constructor(){this.h=this.g=null}add(e,n){const r=w$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function xhe(){for(var t;t=bhe();){try{t.h.call(t.g)}catch(n){She(n)}var e=w$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}R0=!1}function Im(t,e){Pt.call(this),this.h=t||1,this.g=e||Q,this.j=an(this.lb,this),this.l=Date.now()}function N0(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function k0(t,e,n){if("function"==typeof t)n&&(t=an(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=an(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function T$(t){t.g=k0(()=>{t.g=null,t.i&&(t.i=!1,T$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}qt(Im,Pt),(U=Im.prototype).ca=!1,U.R=null,U.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kt(this,"tick"),this.ca&&(N0(this),this.start()))}},U.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.M=function(){Im.X.M.call(this),N0(this),delete this.g};class Rhe extends Fs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:T$(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kd(t){Fs.call(this),this.h=t,this.g={}}qt(kd,Fs);var b$=[];function C$(t,e,n,r){Array.isArray(n)||(n&&(b$[0]=n.toString()),n=b$);for(var i=0;i<n.length;i++){var s=g$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function D$(t){v0(t.g,function(e,n){this.g.hasOwnProperty(n)&&b0(e)},t),t.g={}}function Em(){this.g=!0}function Wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Phe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return A0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}kd.prototype.M=function(){kd.X.M.call(this),D$(this)},kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Em.prototype.Aa=function(){this.g=!1},Em.prototype.info=function(){};var qo={},S$=null;function Tm(){return S$=S$||new Pt}function A$(t){un.call(this,qo.Pa,t)}function Md(t){const e=Tm();Kt(e,new A$(e))}function x$(t,e){un.call(this,qo.STAT_EVENT,t),this.stat=e}function vn(t){const e=Tm();Kt(e,new x$(e,t))}function R$(t,e){un.call(this,qo.Qa,t),this.size=e}function Pd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}qo.Pa="serverreachability",qt(A$,un),qo.STAT_EVENT="statevent",qt(x$,un),qo.Qa="timingevent",qt(R$,un);var bm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},N$={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function M0(){}function M$(){}M0.prototype.h=null;var F0,Od={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function P0(){un.call(this,"d")}function O0(){un.call(this,"c")}function Cm(){}function Fd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new kd(this),this.O=Ohe,this.T=new Im(t=p0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new P$}function P$(){this.i=null,this.g="",this.h=!1}qt(P0,un),qt(O0,un),qt(Cm,M0),Cm.prototype.g=function(){return new XMLHttpRequest},Cm.prototype.i=function(){return{}},F0=new Cm;var Ohe=45e3,L0={},Dm={};function U0(t,e,n){t.K=1,t.v=Rm(Xi(e)),t.s=n,t.P=!0,O$(t,null)}function O$(t,e){t.F=Date.now(),Ld(t),t.A=Xi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),W$(n.i,"t",r),t.C=0,n=t.l.H,t.h=new P$,t.g=gj(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Rhe(an(t.La,t,t.g),t.N)),C$(t.S,t.g,"readystatechange",t.ib),e=t.H?h$(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Md(),function Nhe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function F$(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function L$(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Fhe(t,n),i==Dm){4==e&&(t.o=4,vn(14),r=!1),Wu(t.j,t.m,null,"[Incomplete Response]");break}if(i==L0){t.o=4,vn(15),Wu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Wu(t.j,t.m,i,null),V0(t,i)}F$(t)&&i!=Dm&&i!=L0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),q0(e),e.K=!0,vn(11))):(Wu(t.j,t.m,n,"[Invalid Chunked Response]"),Ko(t),Ud(t))}function Fhe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Dm:(n=Number(e.substring(n,r)),isNaN(n)?L0:(r+=1)+n>e.length?Dm:(e=e.substr(r,n),t.C=r+n,e))}function Ld(t){t.V=Date.now()+t.O,U$(t,t.O)}function U$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Pd(an(t.gb,t),e)}function Sm(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function Ud(t){0==t.l.G||t.I||dj(t.l,t)}function Ko(t){Sm(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,N0(t.T),D$(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function V0(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||B0(n.h,t)))if(!t.J&&B0(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Fm(n),Pm(n)}z0(n),vn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Pd(an(n.cb,n),6e3));if(1>=K$(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Yo(n,11)}else if((t.J||n.g==t)&&Fm(n),!gm(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($0(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,$e(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=pj(r,r.H?r.ka:null,r.V),o.J){Q$(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Sm(a),Ld(a)),r.g=o}else cj(r);0<n.i.length&&Om(n)}else"stop"!=c[0]&&"close"!=c[0]||Yo(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Yo(n,7):W0(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Md()}catch{}}function V$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(fm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Uhe(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Lhe(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(fm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(U=Fd.prototype).setTimeout=function(t){this.O=t},U.ib=function(t){t=t.target;const e=this.L;e&&3==Ji(t)?e.l():this.La(t)},U.La=function(t){try{if(t==this.g)e:{const l=Ji(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||p0||this.g&&(this.h.h||this.g.fa()||rj(this.g)))){this.I||4!=l||7==e||Md(),Sm(this);var n=this.g.aa();this.Y=n;t:if(F$(this)){var r=rj(this.g);t="";var i=r.length,s=4==Ji(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),Ud(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function khe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gm(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,vn(12),Ko(this),Ud(this);break e}Wu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,V0(this,n)}this.P?(L$(this,l,o),p0&&this.i&&3==l&&(C$(this.S,this.T,"tick",this.hb),this.T.start())):(Wu(this.j,this.m,o,null),V0(this,o)),4==l&&Ko(this),this.i&&!this.I&&(4==l?dj(this.l,this):(this.i=!1,Ld(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),Ko(this),Ud(this)}}}catch{}},U.hb=function(){if(this.g){var t=Ji(this.g),e=this.g.fa();this.C<e.length&&(Sm(this),L$(this,t,e),this.i&&4!=t&&Ld(this))}},U.cancel=function(){this.I=!0,Ko(this)},U.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Mhe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Md(),vn(17)),Ko(this),this.o=2,Ud(this)):U$(this,this.V-t)};var B$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qo){this.h=void 0!==e?e:t.h,Am(this,t.j),this.s=t.s,this.g=t.g,xm(this,t.m),this.l=t.l,e=t.i;var n=new $d;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$$(this,n),this.o=t.o}else t&&(n=String(t).match(B$))?(this.h=!!e,Am(this,n[1]||"",!0),this.s=Vd(n[2]||""),this.g=Vd(n[3]||"",!0),xm(this,n[4]),this.l=Vd(n[5]||"",!0),$$(this,n[6]||"",!0),this.o=Vd(n[7]||"")):(this.h=!!e,this.i=new $d(null,this.h))}function Xi(t){return new Qo(t)}function Am(t,e,n){t.j=n?Vd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $$(t,e,n){e instanceof $d?(t.i=e,function Whe(t,e){e&&!t.j&&(Ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(H$(this,r),W$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Bd(e,Hhe)),t.i=new $d(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Rm(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bhe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bhe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bd(e,j$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Bd(e,j$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bd(n,"/"==n.charAt(0)?jhe:$he,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bd(n,Ghe)),t.join("")};var j$=/[#\/\?@]/g,$he=/[#\?:]/g,jhe=/[#\?]/g,Hhe=/[#\?@]/g,Ghe=/#/g;function $d(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ls(t){t.g||(t.g=new Map,t.h=0,t.i&&function Vhe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function H$(t,e){Ls(t),e=zu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function G$(t,e){return Ls(t),e=zu(t,e),t.g.has(e)}function W$(t,e,n){H$(t,e),0<n.length&&(t.i=null,t.g.set(zu(t,e),d0(n)),t.h+=n.length)}function zu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z$(t){this.l=t||qhe,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=$d.prototype).add=function(t,e){Ls(this),this.i=null,t=zu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},U.forEach=function(t,e){Ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},U.oa=function(){Ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},U.W=function(t){Ls(this);let e=[];if("string"==typeof t)G$(this,t)&&(e=e.concat(this.g.get(zu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},U.set=function(t,e){return Ls(this),this.i=null,G$(this,t=zu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},U.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var qhe=10;function q$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function K$(t){return t.h?1:t.g?t.g.size:0}function B0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $0(t,e){t.g?t.g.add(e):t.h=e}function Q$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Y$(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d0(t.i)}function j0(){}function Khe(){this.g=new j0}function Qhe(t,e,n){const r=n||"";try{V$(t,function(i,s){let o=i;xd(i)&&(o=A0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jd(t){this.l=t.ac||null,this.j=t.jb||!1}function km(t,e){Pt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=H0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}z$.prototype.cancel=function(){if(this.i=Y$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},j0.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},j0.prototype.parse=function(t){return Q.JSON.parse(t,void 0)},qt(jd,M0),jd.prototype.g=function(){return new km(this.l,this.j)},jd.prototype.i=function(t){return function(){return t}}({}),qt(km,Pt);var H0=0;function X$(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Hd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gd(t)}function Gd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(U=km.prototype).open=function(t,e){if(this.readyState!=H0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gd(this)},U.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hd(this)),this.readyState=H0},U.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gd(this)),this.g&&(this.readyState=3,Gd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;X$(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},U.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hd(this):Gd(this),3==this.readyState&&X$(this)}},U.Va=function(t){this.g&&(this.response=this.responseText=t,Hd(this))},U.Ua=function(t){this.g&&(this.response=t,Hd(this))},U.ga=function(){this.g&&Hd(this)},U.setRequestHeader=function(t,e){this.v.append(t,e)},U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(km.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Xhe=Q.JSON.parse;function Je(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=J$,this.K=this.L=!1}qt(Je,Pt);var J$="",Jhe=/^https?$/i,Zhe=["POST","PUT"];function Z$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ej(t),Mm(t)}function ej(t){t.D||(t.D=!0,Kt(t,"complete"),Kt(t,"error"))}function tj(t){if(t.h&&typeof c0<"u"&&(!t.C[1]||4!=Ji(t)||2!=t.aa()))if(t.v&&4==Ji(t))k0(t.Ha,0,t);else if(Kt(t,"readystatechange"),4==Ji(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(B$)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!Jhe.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var o=2<Ji(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",ej(t)}}finally{Mm(t)}}}function Mm(t,e){if(t.g){nj(t);const n=t.g,r=t.C[0]?hm:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nj(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Ji(t){return t.g?t.g.readyState:0}function rj(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case J$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ij(t){let e="";return v0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function G0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ij(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Wd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sj(t){this.Ca=0,this.i=[],this.j=new Em,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wd("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wd("baseRetryDelayMs",5e3,t),this.bb=Wd("retryDelaySeedMs",1e4,t),this.$a=Wd("forwardChannelMaxRetries",2,t),this.ta=Wd("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new z$(t&&t.concurrentRequestLimit),this.Fa=new Khe,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function W0(t){if(oj(t),3==t.G){var e=t.U++,n=Xi(t.F);$e(n,"SID",t.I),$e(n,"RID",e),$e(n,"TYPE","terminate"),zd(t,n),(e=new Fd(t,t.j,e,void 0)).K=2,e.v=Rm(Xi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=gj(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ld(e)}fj(t)}function Pm(t){t.g&&(q0(t),t.g.cancel(),t.g=null)}function oj(t){Pm(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Fm(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function Om(t){q$(t.h)||t.m||(t.m=!0,I$(t.Ja,t),t.C=0)}function aj(t,e){var n;n=e?e.m:t.U++;const r=Xi(t.F);$e(r,"SID",t.I),$e(r,"RID",n),$e(r,"AID",t.T),zd(t,r),t.o&&t.s&&G0(r,t.o,t.s),n=new Fd(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=uj(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),$0(t.h,n),U0(n,r,e)}function zd(t,e){t.ia&&v0(t.ia,function(n,r){$e(e,r,n)}),t.l&&V$({},function(n,r){$e(e,r,n)})}function uj(t,e,n){n=Math.min(t.i.length,n);var r=t.l?an(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Qhe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function cj(t){t.g||t.u||(t.Z=1,I$(t.Ia,t),t.A=0)}function z0(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=Pd(an(t.Ia,t),hj(t,t.A)),t.A++,0))}function q0(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function lj(t){t.g=new Fd(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Xi(t.sa);$e(e,"RID","rpc"),$e(e,"SID",t.I),$e(e,"CI",t.L?"0":"1"),$e(e,"AID",t.T),$e(e,"TYPE","xmlhttp"),zd(t,e),t.o&&t.s&&G0(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Rm(Xi(e)),n.s=null,n.P=!0,O$(n,t)}function Fm(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function dj(t,e){var n=null;if(t.g==e){Fm(t),q0(t),t.g=null;var r=2}else{if(!B0(t.h,e))return;n=e.D,Q$(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kt(r=Tm(),new R$(r,n)),Om(t)}else cj(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function tfe(t,e){return!(K$(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=Pd(an(t.Ja,t,e),hj(t,t.C)),t.C++,0)))}(t,e)||2==r&&z0(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Yo(t,5);break;case 4:Yo(t,10);break;case 3:Yo(t,6);break;default:Yo(t,2)}}function hj(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Yo(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=an(t.kb,t);n||(n=new Qo("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Am(n,"https"),Rm(n)),function Yhe(t,e){const n=new Em;if(Q.Image){const r=new Image;r.onload=pm(Nm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pm(Nm,n,r,"TestLoadImage: error",!1,e),r.onabort=pm(Nm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pm(Nm,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else vn(2);t.G=0,t.l&&t.l.va(e),fj(t),oj(t)}function fj(t){if(t.G=0,t.la=[],t.l){const e=Y$(t.h);(0!=e.length||0!=t.i.length)&&(o$(t.la,e),o$(t.la,t.i),t.h.i.length=0,d0(t.i),t.i.length=0),t.l.ua()}}function pj(t,e,n){var r=n instanceof Qo?Xi(n):new Qo(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),xm(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qo(null,void 0);r&&Am(s,r),e&&(s.g=e),i&&xm(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&$e(r,n,e),$e(r,"VER",t.ma),zd(t,r),r}function gj(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Da&&!t.ra?new jd({jb:!0}):t.ra)).Ka(t.H),e}function mj(){}function Lm(){if(Gu&&!(10<=Number(yhe)))throw Error("Environmental error: no available transport.")}function tr(t,e){Pt.call(this),this.g=new sj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!gm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gm(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new qu(this)}function _j(t){P0.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yj(){O0.call(this),this.status=1}function qu(t){this.g=t}(U=Je.prototype).Ka=function(t){this.L=t},U.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():F0.g(),this.C=function k$(t){return t.h||(t.h=t.i())}(this.u?this.u:F0),this.g.onreadystatechange=an(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Z$(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=s$(Zhe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nj(this),0<this.B&&((this.K=function efe(t){return Gu&&function _he(){return function fhe(t){var e=mhe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=a$(String(_m)).split("."),n=a$("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=h0(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||h0(0==i[2].length,0==s[2].length)||h0(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.qa,this)):this.A=k0(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Z$(this,s)}},U.qa=function(){typeof c0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),Mm(this))},U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mm(this,!0)),Je.X.M.call(this)},U.Ha=function(){this.s||(this.F||this.v||this.l?tj(this):this.fb())},U.fb=function(){tj(this)},U.aa=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},U.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xhe(e)}},U.Ea=function(){return this.m},U.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=sj.prototype).ma=8,U.G=1,U.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Fd(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=h$(s),p$(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uj(this,i,e),$e(n=Xi(this.F),"RID",t),$e(n,"CVER",22),this.D&&$e(n,"X-HTTP-Session-Id",this.D),zd(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(ij(s)))+"&"+e:this.o&&G0(n,this.o,s)),$0(this.h,i),this.Ya&&$e(n,"TYPE","init"),this.O?($e(n,"$req",e),$e(n,"SID","null"),i.Z=!0,U0(i,n,null)):U0(i,n,e),this.G=2}}else 3==this.G&&(t?aj(this,t):0==this.i.length||q$(this.h)||aj(this))},U.Ia=function(){if(this.u=null,lj(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Pd(an(this.eb,this),t)}},U.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vn(10),Pm(this),lj(this))},U.cb=function(){null!=this.v&&(this.v=null,Pm(this),z0(this),vn(19))},U.kb=function(t){t?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))},(U=mj.prototype).xa=function(){},U.wa=function(){},U.va=function(){},U.ua=function(){},U.Ra=function(){},Lm.prototype.g=function(t,e){return new tr(t,e)},qt(tr,Pt),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=pj(t,null,t.V),Om(t)},tr.prototype.close=function(){W0(this.g)},tr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=A0(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Om(e)},tr.prototype.M=function(){this.g.l=null,delete this.j,W0(this.g),delete this.g,tr.X.M.call(this)},qt(_j,P0),qt(yj,O0),qt(qu,mj),qu.prototype.xa=function(){Kt(this.g,"a")},qu.prototype.wa=function(t){Kt(this.g,new _j(t))},qu.prototype.va=function(t){Kt(this.g,new yj)},qu.prototype.ua=function(){Kt(this.g,"b")},Lm.prototype.createWebChannel=Lm.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,bm.NO_ERROR=0,bm.TIMEOUT=8,bm.HTTP_ERROR=6,N$.COMPLETE="complete",M$.EventType=Od,Od.OPEN="a",Od.CLOSE="b",Od.ERROR="c",Od.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.Oa,Je.prototype.getLastErrorCode=Je.prototype.Ea,Je.prototype.getStatus=Je.prototype.aa,Je.prototype.getResponseJson=Je.prototype.Sa,Je.prototype.getResponseText=Je.prototype.fa,Je.prototype.send=Je.prototype.da,Je.prototype.setWithCredentials=Je.prototype.Ka,Yi.createWebChannelTransport=function(){return new Lm},Yi.getStatEventTarget=function(){return Tm()},Yi.ErrorCode=bm,Yi.EventType=N$,Yi.Event=qo,Yi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yi.FetchXmlHttpFactory=jd,Yi.WebChannel=M$,Yi.XhrIo=Je;const vj="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let qd="9.14.0";const Us=new Es("@firebase/firestore");function D(t,...e){if(Us.logLevel<=me.DEBUG){const n=e.map(Q0);Us.debug(`Firestore (${qd}): ${t}`,...n)}}function st(t,...e){if(Us.logLevel<=me.ERROR){const n=e.map(Q0);Us.error(`Firestore (${qd}): ${t}`,...n)}}function Q0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${qd}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function G(t,e){t||L()}const I_CANCELLED="cancelled",I_INVALID_ARGUMENT="invalid-argument",I_FAILED_PRECONDITION="failed-precondition",I_UNAVAILABLE="unavailable";class C extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class rfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ife{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new wj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Ot(e)}}class sfe{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(G(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ofe{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new sfe(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ij{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class afe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),this.A=n.token,new Ij(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ufe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function Y(t,e){return t<e?-1:t>e?1:0}class Um{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Um.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Um?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Um{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(_e.fromString(e))}static fromName(e){return new x(_e.fromString(e).popFirst(5))}static empty(){return new x(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new _e(e.slice()))}}function Bs(t){return"IndexedDbTransactionError"===t.name}class Ze{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jm(this.root,e,this.comparator,!0)}}class jm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1,Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Se{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rj(this.data.getIterator())}getIteratorFrom(e){return new Rj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Se(this.comparator);return n.data=e,n}}class Rj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function et(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}Ct.EMPTY_BYTE_STRING=new Ct("");class _fe{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}var ft,ye;(ye=ft||(ft={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS",new Ze(x.comparator),new Ze(x.comparator),new Ze(x.comparator),new Se(x.comparator),new Se(Y);class la{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),function Zd(t){return 0===t&&1/t==-1/0}(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),"string"==typeof r?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(function ea(t){return"string"==typeof t?Ct.fromBase64String(t):Ct.fromUint8Array(t)}(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?function Fj(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):L()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),x.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}la.Te=new la,new Uint8Array(0);class Ln{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l_(){return typeof document<"u"?document:null}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class MS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class JS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new JS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I_INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function f_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}(t);throw new C(I_INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const VG=new Map;class BG{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Wge(t,e,n,r){if(!0===e&&!0===r)throw new C(I_INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BG(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new nfe;switch(n.type){case"gapi":return new ofe(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=VG.get(e);n&&(D("ComponentProvider","Removing Datastore"),VG.delete(e),n.terminate())}(this),Promise.resolve()}}class Zge{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=class Ej{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ufe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function fc(t,e){if(st("AsyncQueue",`${e}: ${t}`),Bs(t))return new C(I_UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}class ame{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new MS(this,"async_queue_retry"),this.Wc=()=>{const n=l_();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=l_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=l_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new bt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return _(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Bs(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=JS.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&L()}verifyOperationInProgress(){}Xc(){var e=this;return _(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class Ue extends Dh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ame,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function QG(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new _fe(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Zge(t._authCredentials,t._appCheckCredentials,t._queue,r)}(this),this._firestoreClient.terminate()}}function cme(t,e){const r="string"==typeof t?t:e||"(default)",i=Rn("object"==typeof t?t:Yr(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=zp("firestore");s&&function zge(t,e,n,r={}){var i;const s=(t=pe(t,Dh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&function Kd(t,...e){if(Us.logLevel<=me.WARN){const n=e.map(Q0);Us.warn(`Firestore (${qd}): ${t}`,...n)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Ot.MOCK_USER;else{o=MI(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I_INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ot(u)}t._authCredentials=new rfe(new wj(o,a))}}(i,...s)}return i}!function(t,e=!0){qd="9.14.0",It(new ht("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ue(new ife(n.getProvider("auth-internal")),new afe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),oe(vj,"3.7.3",t),oe(vj,"3.7.3","esm2017")}();class KA{constructor(e){return e}}const _W="firestore",QA=new V("angularfire2.firestore-instances");function Sme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new KA(r)}}const Ame={provide:class Cme{constructor(){return Jr(_W)}},deps:[[new he,QA]]},xme={provide:KA,useFactory:function Dme(t,e){const n=Xr(_W,t,e);return n&&new KA(n)},deps:[[new he,QA],Jn]};let Rme=(()=>{class t{constructor(){oe("angularfire",Yn.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[xme,Ame]}),t})();function Nme(t,...e){return{ngModule:Rme,providers:[{provide:QA,useFactory:Sme(t),multi:!0,deps:[ve,Ge,Zr,ei,[new he,ed],[new he,Su],...e]}]}}const kme=Xn(cme,!0),XA="functions";class Lme{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return _(function*(){if(e.appCheck){const n=yield e.appCheck.getToken();return n.error?null:n.token}return null})()}getContext(){var e=this;return _(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const JA="us-central1";class Vme{constructor(e,n,r,i,s=JA,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Lme(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=JA}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const IW="@firebase/functions";function Qme(t=Yr(),e=JA){const r=Rn(wt(t),XA).getImmediate({identifier:e}),i=zp("functions");return i&&function Yme(t,e,n){!function Bme(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(wt(t),e,n)}(r,...i),r}!function Kme(t,e){It(new ht(XA,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new Vme(s,o,a,u,i,t)},"PUBLIC").setMultipleInstances(!0)),oe(IW,"0.8.8",e),oe(IW,"0.8.8","esm2017")}(fetch.bind(self));class tx{constructor(e){return e}}const TW="functions",nx=new V("angularfire2.functions-instances");function Zme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new tx(r)}}const e_e={provide:class Xme{constructor(){return Jr(TW)}},deps:[[new he,nx]]},t_e={provide:tx,useFactory:function Jme(t,e){const n=Xr(TW,t,e);return n&&new tx(n)},deps:[[new he,nx],Jn]};let n_e=(()=>{class t{constructor(){oe("angularfire",Yn.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[t_e,e_e]}),t})();function r_e(t,...e){return{ngModule:n_e,providers:[{provide:nx,useFactory:Zme(t),multi:!0,deps:[ve,Ge,Zr,ei,[new he,ed],[new he,Su],...e]}]}}const i_e=Xn(Qme,!0);class rx{constructor(e){return e}}const bW="messaging",ix=new V("angularfire2.messaging-instances");function a_e(t){return(e,n)=>{if(!og.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new rx(r)}}const u_e={provide:class s_e{constructor(){return Jr(bW)}},deps:[[new he,ix]]},c_e={provide:rx,useFactory:function o_e(t,e){if(!og.sync())return null;const n=Xr(bW,t,e);return n&&new rx(n)},deps:[[new he,ix],Jn]};let l_e=(()=>{class t{constructor(){oe("angularfire",Yn.full,"fcm")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[c_e,u_e,{provide:mo,useValue:og.async,multi:!0}]}),t})();function d_e(t,...e){return{ngModule:l_e,providers:[{provide:ix,useFactory:a_e(t),multi:!0,deps:[ve,Ge,Zr,ei,...e]}]}}const h_e=Xn(Cre,!0),CW="@firebase/performance",sx="0.5.17",ox="FB-PERF-TRACE-MEASURE",NW="@firebase/performance/config",kW="@firebase/performance/configexpire",MW="Performance",Xt=new kr("performance",MW,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),gi=new Es(MW);let ax,PW,OW,cx;gi.logLevel=me.INFO;class Vt{constructor(e){if(this.window=e,!e)throw Xt.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&Wp()?!!Is()||(gi.info("IndexedDB is not supported by current browswer"),!1):(gi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===ax&&(ax=new Vt(PW)),ax}}function ux(){return OW}function FW(t,e){const n=t.length-e.length;if(n<0||n>1)throw Xt.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class ir{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=FW("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=FW("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===cx&&(cx=new ir),cx}}var ya=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(ya||(ya={})),ya))();const w_e=["firebase_","google_","ga_"],I_e=new RegExp("^[a-zA-Z]\\w*$");function b_e(){const t=Vt.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function LW(){switch(Vt.getInstance().document.visibilityState){case"visible":return ya.VISIBLE;case"hidden":return ya.HIDDEN;default:return ya.UNKNOWN}}function C_e(){const e=Vt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function UW(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw Xt.create("no app id");return n}const Lr={loggingEnabled:!0};const O_e="Could not fetch config, will use default configs";function VW(t){if(!t)return t;const e=ir.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Lr.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):Lr.logSource&&(e.logSource=Lr.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:Lr.logEndPointUrl&&(e.logEndPointUrl=Lr.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:Lr.transportKey&&(e.transportKey=Lr.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Lr.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Lr.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Lr.tracesSamplingRate&&(e.tracesSamplingRate=Lr.tracesSamplingRate),e.logTraceAfterSampling=BW(e.tracesSamplingRate),e.logNetworkAfterSampling=BW(e.networkRequestsSamplingRate),t}function BW(t){return Math.random()<=t}let dx,lx=1;function $W(t){return lx=2,dx=dx||function V_e(t){return function B_e(){const t=Vt.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function y_e(t){const e=t.getId();return e.then(n=>{OW=n}),e}(t.installations)).then(e=>function k_e(t,e){const n=function M_e(){const t=Vt.getInstance().localStorage;if(!t)return;const e=t.getItem(kW);if(!e||!function L_e(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(NW);if(n)try{return JSON.parse(n)}catch{return}}();return n?(VW(n),Promise.resolve()):function F_e(t,e){return function v_e(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const r=function A_e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw Xt.create("no project id");return n}(t.app),i=function x_e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw Xt.create("no api key");return n}(t.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:UW(t.app),app_version:"0.5.17",sdk_version:"0.0.1"})});return fetch(o).then(a=>{if(a.ok)return a.json();throw Xt.create("RC response not ok")})}).catch(()=>{gi.info(O_e)})}(t,e).then(VW).then(r=>function P_e(t){const e=Vt.getInstance().localStorage;!t||!e||(e.setItem(NW,JSON.stringify(t)),e.setItem(kW,String(Date.now()+60*ir.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(t,e)).then(()=>jW(),()=>jW())}(t),dx}function jW(){lx=3}let fx,b_=3,Xs=[],GW=!1;function C_(t){setTimeout(()=>{if(0!==b_){if(!Xs.length)return C_(1e4);!function G_e(){const t=Xs.splice(0,1e3),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function W_e(t,e){return function z_e(t){const e=ir.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||gi.info("Call to Firebase backend failed."),n.json())).then(n=>{const r=Number(n.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Xs=[...e,...Xs],gi.info("Retry transport request later.")),b_=3,C_(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ir.getInstance().logSource,log_event:e},t).catch(()=>{Xs=[...t,...Xs],b_--,gi.info(`Tries left: ${b_}.`),C_(1e4)})}()}},t)}function WW(t,e){fx||(fx=function K_e(t){return(...e)=>{!function q_e(t){if(!t.eventTime||!t.message)throw Xt.create("invalid cc log");Xs=[...Xs,t]}({message:t(...e),eventTime:Date.now()})}}(Y_e)),fx(t,e)}function D_(t){const e=ir.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!Vt.getInstance().requiredApisAvailable()||t.isAuto&&LW()!==ya.VISIBLE||(function U_e(){return 3===lx}()?px(t):$W(t.performanceController).then(()=>px(t),()=>px(t)))}function px(t){if(!ux())return;const e=ir.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>WW(t,1),0)}function Y_e(t,e){return 0===e?function X_e(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:zW(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function J_e(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const r={application_info:zW(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}(t)}function zW(t){return{google_app_id:UW(t),app_instance_id:ux(),web_app_info:{sdk_version:"0.5.17",page_url:Vt.getInstance().getUrl(),service_worker_status:b_e(),visibility_state:LW(),effective_connection_type:C_e()},application_process_state:0}}const tye=["_fp","_fcp","_fid"];class Js{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Vt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${ox}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Xt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Xt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),D_(this)}record(e,n,r){if(e<=0)throw Xt.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Xt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));D_(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function nye(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&tye.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw Xt.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function rye(t){const e=Math.floor(t);return e<t&&gi.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(n??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=function D_e(t){return!(0===t.length||t.length>40||w_e.some(n=>t.startsWith(n))||!t.match(I_e))}(e),i=function S_e(t){return 0!==t.length&&t.length<=100}(n);if(r&&i)this.customAttributes[e]=n;else{if(!r)throw Xt.create("invalid attribute name",{attributeName:e});if(!i)throw Xt.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,r,i){const s=Vt.getInstance().getUrl();if(!s)return;const o=new Js(e,"_wt_"+s,!0),a=Math.floor(1e3*Vt.getInstance().getTimeOrigin());if(o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),r){const l=r.find(h=>"first-paint"===h.name);l&&l.startTime&&o.putMetric("_fp",Math.floor(1e3*l.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}D_(o)}static createUserTimingTrace(e,n){D_(new Js(e,n,!1,n))}}function qW(t,e){const n=e;if(!n||void 0===n.responseStart)return;const r=Vt.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function Q_e(t){const e=ir.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>WW(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function KW(t){!ux()||(setTimeout(()=>function oye(t){const e=Vt.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{Js.createOobTrace(t,n,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),Js.createOobTrace(t,n,r,s))})}else Js.createOobTrace(t,n,r)}(t),0),setTimeout(()=>function sye(t){const e=Vt.getInstance(),n=e.getEntriesByType("resource");for(const r of n)qW(t,r);e.setupObserver("resource",r=>qW(t,r))}(t),0),setTimeout(()=>function aye(t){const e=Vt.getInstance(),n=e.getEntriesByType("measure");for(const r of n)QW(t,r);e.setupObserver("measure",r=>QW(t,r))}(t),0))}function QW(t,e){const n=e.name;n.substring(0,ox.length)!==ox&&Js.createUserTimingTrace(t,n)}class uye{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Vt.getInstance().requiredApisAvailable()?vu().then(n=>{n&&(function H_e(){GW||(C_(5500),GW=!0)}(),$W(this).then(()=>KW(this),()=>KW(this)),this.initialized=!0)}).catch(n=>{gi.info(`Environment doesn't support IndexedDB: ${n}`)}):gi.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ir.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ir.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ir.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ir.getInstance().dataCollectionEnabled}}function lye(t=Yr()){return Rn(t=wt(t),"performance").getImmediate()}const dye=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw Xt.create("FB not default");if(typeof window>"u")throw Xt.create("no window");!function __e(t){PW=t}(window);const i=new uye(n,r);return i._init(e),i};!function hye(){It(new ht("performance",dye,"PUBLIC")),oe(CW,sx),oe(CW,sx,"esm2017")}();class gx{constructor(e){return e}}const YW="performance",mx=new V("angularfire2.performance-instances");function gye(t){return(e,n,r)=>{if(!bO(n))return null;const i=e.runOutsideAngular(()=>t(r));return new gx(i)}}const mye={provide:class fye{constructor(){return Jr(YW)}},deps:[[new he,mx]]},_ye={provide:gx,useFactory:function pye(t,e,n){if(!bO(n))return null;const r=Xr(YW,t,e);return r&&new gx(r)},deps:[[new he,mx],Jn,cu]};let yye=(()=>{class t{constructor(){oe("angularfire",Yn.full,"perf")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[_ye,mye]}),t})();function vye(t,...e){return{ngModule:yye,providers:[{provide:mx,useFactory:gye(t),multi:!0,deps:[ve,cu,Ge,Zr,ei,...e]}]}}const wye=Xn(lye,!0);class _x{constructor(e){return e}}const XW="remote-config",yx=new V("angularfire2.remote-config-instances");function Tye(t){return(e,n)=>{if(!ag.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new _x(r)}}const bye={provide:class Iye{constructor(){return Jr(XW)}},deps:[[new he,yx]]},Cye={provide:_x,useFactory:function Eye(t,e){if(!ag.sync())return null;const n=Xr(XW,t,e);return n&&new _x(n)},deps:[[new he,yx],Jn]};let Dye=(()=>{class t{constructor(){oe("angularfire",Yn.full,"rc")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[Cye,bye,{provide:mo,useValue:ag.async,multi:!0}]}),t})();function Sye(t,...e){return{ngModule:Dye,providers:[{provide:yx,useFactory:Tye(t),multi:!0,deps:[ve,Ge,Zr,ei,...e]}]}}const Aye=Xn(Ine,!0),JW="firebasestorage.googleapis.com";class Ke extends Kn{constructor(e,n,r=0){super(vx(e),`Firebase Storage: ${n} (${vx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function vx(t){return"storage/"+t}function Ix(t){return new Ke("invalid-argument",t)}function rz(){return new Ke("app-deleted","The Firebase app was deleted.")}class Tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tn.makeFromUrl(e,n)}catch{return new Tn(e,"")}if(""===r.path)return r;throw function Uye(t){return new Ke("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(b){b.path_=decodeURIComponent(b.path)}const d=n.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(b){"/"===b.path.charAt(b.path.length-1)&&(b.path_=b.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===JW?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<y.length;b++){const A=y[b],P=A.regex.exec(e);if(P){let Jt=P[A.indices.path];Jt||(Jt=""),r=new Tn(P[A.indices.bucket],Jt),A.postModify(r);break}}if(null==r)throw function Lye(t){return new Ke("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class Gye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Tx(t,e,n,r){if(r<e)throw Ix(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ix(`Invalid value for '${t}'. Expected ${n} or less.`)}var Zs=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Zs||(Zs={})),Zs))();class Yye{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function qye(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function wx(){return new Ke("unknown","An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?rz():function tz(){return new Ke("canceled","User canceled the upload/download.")}():function ez(){return new Ke("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new A_(!1,null,!0)):this.backoffId_=function Wye(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...m){c||(c=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,u())},m)}function h(){s&&clearTimeout(s)}function f(m,...w){if(c)return void h();if(m)return h(),void l.call(null,m,...w);if(u()||o)return h(),void l.call(null,m,...w);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function g(m){p||(p=!0,h(),!c&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new A_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Zs.NO_ERROR,u=s.getStatus();if((!a||function oz(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_))&&this.retry){const l=s.getErrorCode()===Zs.ABORT;return void r(!1,new A_(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new A_(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function zye(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class A_{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class va{constructor(e,n){this._service=e,this._location=n instanceof Tn?n:Tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new va(e,n)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function dz(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function lve(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Tn(this._location.bucket,e);return new va(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Hye(t){return new Ke("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Dz(t,e){const n=e?.storageBucket;return null==n?null:Tn.makeFromBucketSpec(n,t)}class Rx{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=JW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Tn.makeFromBucketSpec(i,this._host):Dz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Tn.makeFromBucketSpec(this._url,e):Dz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new va(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Gye(rz());{const o=function tve(t,e,n,r,i,s,o=!0){const a=function sz(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function Zye(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function Xye(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function Jye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function eve(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Yye(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return _(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const Sz="@firebase/storage",xz="storage";function Qve(t=Yr(),e){const r=Rn(t=wt(t),xz).getImmediate({identifier:e}),i=zp("storage");return i&&function Yve(t,e,n,r={}){!function Kve(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:MI(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function Xve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Rx(n,r,i,e,Ts)}!function Jve(){It(new ht(xz,Xve,"PUBLIC").setMultipleInstances(!0)),oe(Sz,"0.9.14",""),oe(Sz,"0.9.14","esm2017")}();class Nx{constructor(e){return e}}const Rz="storage",kx=new V("angularfire2.storage-instances");function twe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nx(r)}}const nwe={provide:class Zve{constructor(){return Jr(Rz)}},deps:[[new he,kx]]},rwe={provide:Nx,useFactory:function ewe(t,e){const n=Xr(Rz,t,e);return n&&new Nx(n)},deps:[[new he,kx],Jn]};let iwe=(()=>{class t{constructor(){oe("angularfire",Yn.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=St({providers:[rwe,nwe]}),t})();function swe(t,...e){return{ngModule:iwe,providers:[{provide:kx,useFactory:twe(t),multi:!0,deps:[ve,Ge,Zr,ei,[new he,ed],[new he,Su],...e]}]}}const owe=Xn(Qve,!0);let awe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bt({type:t,bootstrap:[JZ]}),t.\u0275inj=St({providers:[r2,zC],imports:[cX,XZ,Tie(()=>bie(AU_firebase)),Pue(()=>hue()),uue(()=>lue()),ihe(()=>she()),Nme(()=>kme()),r_e(()=>i_e()),d_e(()=>h_e()),vye(()=>wye()),Sye(()=>Aye()),swe(()=>owe())]}),t})();(function AQ(){z1=!1})(),uX().bootstrapModule(awe).catch(t=>console.error(t))}},Ne=>{Ne(Ne.s=290)}]);